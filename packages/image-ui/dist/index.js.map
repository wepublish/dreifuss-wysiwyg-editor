{"version":3,"file":"index.js","sources":["../src/ImageElement/ImageElement.styles.ts","../../../node_modules/rollup-plugin-node-globals/src/global.js","../../../node_modules/process-es6/browser.js","../../../node_modules/@babel/runtime/helpers/esm/extends.js","../../../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../node_modules/use-isomorphic-layout-effect/dist/use-isomorphic-layout-effect.browser.esm.js","../../../node_modules/use-latest/dist/use-latest.esm.js","../../../node_modules/use-composed-ref/dist/use-composed-ref.esm.js","../../../node_modules/react-textarea-autosize/dist/react-textarea-autosize.browser.esm.js","../../../node_modules/is-hotkey/lib/index.js","../node_modules/@udecode/plate-common/dist/index.es.js","../src/ImageElement/ImageElement.tsx","../../../node_modules/rollup-plugin-styles/dist/runtime/inject-css.js","../src/ToolbarImage/ToolbarImage.tsx"],"sourcesContent":["import {createStyles} from '@udecode/plate-styled-components'\nimport {css} from 'styled-components'\nimport tw from 'twin.macro'\nimport {ImageElementStyleProps} from './ImageElement.types'\n\nexport const getImageElementStyles = (props: ImageElementStyleProps) => {\n  const {\n    focused,\n    selected,\n    align,\n    caption = {\n      align: 'center'\n    }\n  } = props\n\n  const color = 'rgb(157, 170, 182)'\n  const colorActive = 'white'\n  const background = 'rgb(36, 42, 49)'\n  const borderColor = 'transparent'\n\n  const marginTopLeft = 9\n\n  return createStyles(\n    {prefixClassNames: 'ImageElement', ...props},\n    {\n      root: [tw`py-2.5`],\n      figure: [tw`m-0 relative`],\n      img: [\n        tw`block max-w-full px-0 cursor-pointer w-full`,\n        tw`borderRadius[3px] object-cover`,\n        focused && selected && tw`boxShadow[0 0 0 1px rgb(59,130,249)]`\n      ],\n      figcaption: [align === 'center' && tw`mx-auto`, align === 'right' && tw`ml-auto`],\n      caption: [\n        tw`w-full border-none focus:outline-none mt-2 p-0 resize-none`,\n        caption?.align === 'center' && tw`text-center`,\n        caption?.align === 'right' && tw`text-right`,\n        css`\n          font: inherit;\n          color: inherit;\n          background-color: inherit;\n\n          :focus {\n            ::placeholder {\n              opacity: 0;\n            }\n          }\n        `\n      ],\n      optionsToolbar: [\n        tw`flex items-center select-none box-content`,\n        tw`color[rgb(68, 68, 68)] minHeight[28px]`,\n        tw`absolute whitespace-nowrap py-0 px-1`,\n        props.hidden && tw`invisible`,\n        !props.hiddenDelay && tw`transition[top 75ms ease-out,left 75ms ease-out]`,\n        css`\n          color: ${color};\n          background: ${background};\n          z-index: 500;\n          border: 1px solid ${borderColor};\n          border-radius: 4px;\n          margin-top: ${marginTopLeft}px;\n          margin-left: ${marginTopLeft}px;\n          .slate-ToolbarButton-active,\n          .slate-ToolbarButton:hover {\n            color: ${colorActive};\n          }\n        `\n      ],\n      optionsToolbarButton: [\n        tw`bg-transparent text-gray-300 hover:text-white`,\n        css`\n          border: 0px;\n        `\n      ]\n    }\n  )\n}\n","export default (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import { useLayoutEffect } from 'react';\n\nvar index =  useLayoutEffect ;\n\nexport default index;\n","import { useRef } from 'react';\nimport useIsomorphicLayoutEffect from 'use-isomorphic-layout-effect';\n\nvar useLatest = function useLatest(value) {\n  var ref = useRef(value);\n  useIsomorphicLayoutEffect(function () {\n    ref.current = value;\n  });\n  return ref;\n};\n\nexport default useLatest;\n","import { useRef, useCallback } from 'react';\n\nvar updateRef = function updateRef(ref, value) {\n  if (typeof ref === 'function') {\n    ref(value);\n    return;\n  }\n  ref.current = value;\n};\n\nvar useComposedRef = function useComposedRef(libRef, userRef) {\n  var prevUserRef = useRef();\n  return useCallback(function (instance) {\n    libRef.current = instance;\n\n    if (prevUserRef.current) {\n      updateRef(prevUserRef.current, null);\n    }\n\n    prevUserRef.current = userRef;\n\n    if (!userRef) {\n      return;\n    }\n\n    updateRef(userRef, instance);\n  }, [userRef]);\n};\n\nexport default useComposedRef;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport { useLayoutEffect, forwardRef, useRef, createElement } from 'react';\nimport useLatest from 'use-latest';\nimport useComposedRef from 'use-composed-ref';\n\nvar HIDDEN_TEXTAREA_STYLE = {\n  'min-height': '0',\n  'max-height': 'none',\n  height: '0',\n  visibility: 'hidden',\n  overflow: 'hidden',\n  position: 'absolute',\n  'z-index': '-1000',\n  top: '0',\n  right: '0'\n};\n\nvar forceHiddenStyles = function forceHiddenStyles(node) {\n  Object.keys(HIDDEN_TEXTAREA_STYLE).forEach(function (key) {\n    node.style.setProperty(key, HIDDEN_TEXTAREA_STYLE[key], 'important');\n  });\n};\n\n//   export type CalculatedNodeHeights = [height: number, rowHeight: number];\n// https://github.com/microsoft/TypeScript/issues/28259\n\nvar hiddenTextarea = null;\n\nvar getHeight = function getHeight(node, sizingData) {\n  var height = node.scrollHeight;\n\n  if (sizingData.sizingStyle.boxSizing === 'border-box') {\n    // border-box: add border, since height = content + padding + border\n    return height + sizingData.borderSize;\n  } // remove padding, since height = content\n\n\n  return height - sizingData.paddingSize;\n};\n\nfunction calculateNodeHeight(sizingData, value, minRows, maxRows) {\n  if (minRows === void 0) {\n    minRows = 1;\n  }\n\n  if (maxRows === void 0) {\n    maxRows = Infinity;\n  }\n\n  if (!hiddenTextarea) {\n    hiddenTextarea = document.createElement('textarea');\n    hiddenTextarea.setAttribute('tabindex', '-1');\n    hiddenTextarea.setAttribute('aria-hidden', 'true');\n    forceHiddenStyles(hiddenTextarea);\n  }\n\n  if (hiddenTextarea.parentNode === null) {\n    document.body.appendChild(hiddenTextarea);\n  }\n\n  var paddingSize = sizingData.paddingSize,\n      borderSize = sizingData.borderSize,\n      sizingStyle = sizingData.sizingStyle;\n  var boxSizing = sizingStyle.boxSizing;\n  Object.keys(sizingStyle).forEach(function (_key) {\n    var key = _key;\n    hiddenTextarea.style[key] = sizingStyle[key];\n  });\n  forceHiddenStyles(hiddenTextarea);\n  hiddenTextarea.value = value;\n  var height = getHeight(hiddenTextarea, sizingData); // measure height of a textarea with a single row\n\n  hiddenTextarea.value = 'x';\n  var rowHeight = hiddenTextarea.scrollHeight - paddingSize;\n  var minHeight = rowHeight * minRows;\n\n  if (boxSizing === 'border-box') {\n    minHeight = minHeight + paddingSize + borderSize;\n  }\n\n  height = Math.max(minHeight, height);\n  var maxHeight = rowHeight * maxRows;\n\n  if (boxSizing === 'border-box') {\n    maxHeight = maxHeight + paddingSize + borderSize;\n  }\n\n  height = Math.min(maxHeight, height);\n  return [height, rowHeight];\n}\n\nvar noop = function noop() {};\nvar pick = function pick(props, obj) {\n  return props.reduce(function (acc, prop) {\n    acc[prop] = obj[prop];\n    return acc;\n  }, {});\n};\n\nvar SIZING_STYLE = ['borderBottomWidth', 'borderLeftWidth', 'borderRightWidth', 'borderTopWidth', 'boxSizing', 'fontFamily', 'fontSize', 'fontStyle', 'fontWeight', 'letterSpacing', 'lineHeight', 'paddingBottom', 'paddingLeft', 'paddingRight', 'paddingTop', // non-standard\n'tabSize', 'textIndent', // non-standard\n'textRendering', 'textTransform', 'width', 'wordBreak'];\nvar isIE = !!document.documentElement.currentStyle ;\n\nvar getSizingData = function getSizingData(node) {\n  var style = window.getComputedStyle(node);\n\n  if (style === null) {\n    return null;\n  }\n\n  var sizingStyle = pick(SIZING_STYLE, style);\n  var boxSizing = sizingStyle.boxSizing; // probably node is detached from DOM, can't read computed dimensions\n\n  if (boxSizing === '') {\n    return null;\n  } // IE (Edge has already correct behaviour) returns content width as computed width\n  // so we need to add manually padding and border widths\n\n\n  if (isIE && boxSizing === 'border-box') {\n    sizingStyle.width = parseFloat(sizingStyle.width) + parseFloat(sizingStyle.borderRightWidth) + parseFloat(sizingStyle.borderLeftWidth) + parseFloat(sizingStyle.paddingRight) + parseFloat(sizingStyle.paddingLeft) + 'px';\n  }\n\n  var paddingSize = parseFloat(sizingStyle.paddingBottom) + parseFloat(sizingStyle.paddingTop);\n  var borderSize = parseFloat(sizingStyle.borderBottomWidth) + parseFloat(sizingStyle.borderTopWidth);\n  return {\n    sizingStyle: sizingStyle,\n    paddingSize: paddingSize,\n    borderSize: borderSize\n  };\n};\n\nvar useWindowResizeListener = function useWindowResizeListener(listener) {\n  var latestListener = useLatest(listener);\n  useLayoutEffect(function () {\n    var handler = function handler(event) {\n      latestListener.current(event);\n    };\n\n    window.addEventListener('resize', handler);\n    return function () {\n      window.removeEventListener('resize', handler);\n    };\n  }, []);\n};\n\nvar TextareaAutosize = function TextareaAutosize(_ref, userRef) {\n  var cacheMeasurements = _ref.cacheMeasurements,\n      maxRows = _ref.maxRows,\n      minRows = _ref.minRows,\n      _ref$onChange = _ref.onChange,\n      onChange = _ref$onChange === void 0 ? noop : _ref$onChange,\n      _ref$onHeightChange = _ref.onHeightChange,\n      onHeightChange = _ref$onHeightChange === void 0 ? noop : _ref$onHeightChange,\n      props = _objectWithoutPropertiesLoose(_ref, [\"cacheMeasurements\", \"maxRows\", \"minRows\", \"onChange\", \"onHeightChange\"]);\n\n  if (process.env.NODE_ENV !== 'production' && props.style) {\n    if ('maxHeight' in props.style) {\n      throw new Error('Using `style.maxHeight` for <TextareaAutosize/> is not supported. Please use `maxRows`.');\n    }\n\n    if ('minHeight' in props.style) {\n      throw new Error('Using `style.minHeight` for <TextareaAutosize/> is not supported. Please use `minRows`.');\n    }\n  }\n\n  var isControlled = props.value !== undefined;\n  var libRef = useRef(null);\n  var ref = useComposedRef(libRef, userRef);\n  var heightRef = useRef(0);\n  var measurementsCacheRef = useRef();\n\n  var resizeTextarea = function resizeTextarea() {\n    var node = libRef.current;\n    var nodeSizingData = cacheMeasurements && measurementsCacheRef.current ? measurementsCacheRef.current : getSizingData(node);\n\n    if (!nodeSizingData) {\n      return;\n    }\n\n    measurementsCacheRef.current = nodeSizingData;\n\n    var _calculateNodeHeight = calculateNodeHeight(nodeSizingData, node.value || node.placeholder || 'x', minRows, maxRows),\n        height = _calculateNodeHeight[0],\n        rowHeight = _calculateNodeHeight[1];\n\n    if (heightRef.current !== height) {\n      heightRef.current = height;\n      node.style.setProperty('height', height + \"px\", 'important');\n      onHeightChange(height, {\n        rowHeight: rowHeight\n      });\n    }\n  };\n\n  var handleChange = function handleChange(event) {\n    if (!isControlled) {\n      resizeTextarea();\n    }\n\n    onChange(event);\n  };\n\n  {\n    useLayoutEffect(resizeTextarea);\n    useWindowResizeListener(resizeTextarea);\n  }\n\n  return /*#__PURE__*/createElement(\"textarea\", _extends({}, props, {\n    onChange: handleChange,\n    ref: ref\n  }));\n};\n\nvar index = /* #__PURE__ */forwardRef(TextareaAutosize);\n\nexport default index;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * Constants.\n */\n\nvar IS_MAC = typeof window != 'undefined' && /Mac|iPod|iPhone|iPad/.test(window.navigator.platform);\n\nvar MODIFIERS = {\n  alt: 'altKey',\n  control: 'ctrlKey',\n  meta: 'metaKey',\n  shift: 'shiftKey'\n};\n\nvar ALIASES = {\n  add: '+',\n  break: 'pause',\n  cmd: 'meta',\n  command: 'meta',\n  ctl: 'control',\n  ctrl: 'control',\n  del: 'delete',\n  down: 'arrowdown',\n  esc: 'escape',\n  ins: 'insert',\n  left: 'arrowleft',\n  mod: IS_MAC ? 'meta' : 'control',\n  opt: 'alt',\n  option: 'alt',\n  return: 'enter',\n  right: 'arrowright',\n  space: ' ',\n  spacebar: ' ',\n  up: 'arrowup',\n  win: 'meta',\n  windows: 'meta'\n};\n\nvar CODES = {\n  backspace: 8,\n  tab: 9,\n  enter: 13,\n  shift: 16,\n  control: 17,\n  alt: 18,\n  pause: 19,\n  capslock: 20,\n  escape: 27,\n  ' ': 32,\n  pageup: 33,\n  pagedown: 34,\n  end: 35,\n  home: 36,\n  arrowleft: 37,\n  arrowup: 38,\n  arrowright: 39,\n  arrowdown: 40,\n  insert: 45,\n  delete: 46,\n  meta: 91,\n  numlock: 144,\n  scrolllock: 145,\n  ';': 186,\n  '=': 187,\n  ',': 188,\n  '-': 189,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '[': 219,\n  '\\\\': 220,\n  ']': 221,\n  '\\'': 222\n};\n\nfor (var f = 1; f < 20; f++) {\n  CODES['f' + f] = 111 + f;\n}\n\n/**\n * Is hotkey?\n */\n\nfunction isHotkey(hotkey, options, event) {\n  if (options && !('byKey' in options)) {\n    event = options;\n    options = null;\n  }\n\n  if (!Array.isArray(hotkey)) {\n    hotkey = [hotkey];\n  }\n\n  var array = hotkey.map(function (string) {\n    return parseHotkey(string, options);\n  });\n  var check = function check(e) {\n    return array.some(function (object) {\n      return compareHotkey(object, e);\n    });\n  };\n  var ret = event == null ? check : check(event);\n  return ret;\n}\n\nfunction isCodeHotkey(hotkey, event) {\n  return isHotkey(hotkey, event);\n}\n\nfunction isKeyHotkey(hotkey, event) {\n  return isHotkey(hotkey, { byKey: true }, event);\n}\n\n/**\n * Parse.\n */\n\nfunction parseHotkey(hotkey, options) {\n  var byKey = options && options.byKey;\n  var ret = {};\n\n  // Special case to handle the `+` key since we use it as a separator.\n  hotkey = hotkey.replace('++', '+add');\n  var values = hotkey.split('+');\n  var length = values.length;\n\n  // Ensure that all the modifiers are set to false unless the hotkey has them.\n\n  for (var k in MODIFIERS) {\n    ret[MODIFIERS[k]] = false;\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var value = _step.value;\n\n      var optional = value.endsWith('?') && value.length > 1;\n\n      if (optional) {\n        value = value.slice(0, -1);\n      }\n\n      var name = toKeyName(value);\n      var modifier = MODIFIERS[name];\n\n      if (length === 1 || !modifier) {\n        if (byKey) {\n          ret.key = name;\n        } else {\n          ret.which = toKeyCode(value);\n        }\n      }\n\n      if (modifier) {\n        ret[modifier] = optional ? null : true;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return ret;\n}\n\n/**\n * Compare.\n */\n\nfunction compareHotkey(object, event) {\n  for (var key in object) {\n    var expected = object[key];\n    var actual = void 0;\n\n    if (expected == null) {\n      continue;\n    }\n\n    if (key === 'key' && event.key != null) {\n      actual = event.key.toLowerCase();\n    } else if (key === 'which') {\n      actual = expected === 91 && event.which === 93 ? 91 : event.which;\n    } else {\n      actual = event[key];\n    }\n\n    if (actual == null && expected === false) {\n      continue;\n    }\n\n    if (actual !== expected) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Utils.\n */\n\nfunction toKeyCode(name) {\n  name = toKeyName(name);\n  var code = CODES[name] || name.toUpperCase().charCodeAt(0);\n  return code;\n}\n\nfunction toKeyName(name) {\n  name = name.toLowerCase();\n  name = ALIASES[name] || name;\n  return name;\n}\n\n/**\n * Export.\n */\n\nexports.default = isHotkey;\nexports.isHotkey = isHotkey;\nexports.isCodeHotkey = isCodeHotkey;\nexports.isKeyHotkey = isKeyHotkey;\nexports.parseHotkey = parseHotkey;\nexports.compareHotkey = compareHotkey;\nexports.toKeyCode = toKeyCode;\nexports.toKeyName = toKeyName;","import * as React from 'react';\nimport { jsx } from 'react/jsx-runtime';\nimport { Editor, Span, Range, Path, Node, Point, Text, Transforms, Element, createEditor } from 'slate';\nimport { isAncestor, isText, getPlatePluginType, mapPlatePluginKeysToOptions, getPlatePluginOptions, isElement } from '@udecode/plate-core';\nimport { ReactEditor, withReact, Slate } from 'slate-react';\nimport isHotkey from 'is-hotkey';\n\nconst createNodeHOC = HOC => (Component, props) => childrenProps => /*#__PURE__*/jsx(HOC, { ...childrenProps,\n  ...props,\n  children: /*#__PURE__*/jsx(Component, { ...childrenProps\n  })\n});\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nvar isArray_1 = isArray;\n\n/**\n * Casts `value` as an array if it's not one.\n *\n * @static\n * @memberOf _\n * @since 4.4.0\n * @category Lang\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast array.\n * @example\n *\n * _.castArray(1);\n * // => [1]\n *\n * _.castArray({ 'a': 1 });\n * // => [{ 'a': 1 }]\n *\n * _.castArray('abc');\n * // => ['abc']\n *\n * _.castArray(null);\n * // => [null]\n *\n * _.castArray(undefined);\n * // => [undefined]\n *\n * _.castArray();\n * // => []\n *\n * var array = [1, 2, 3];\n * console.log(_.castArray(array) === array);\n * // => true\n */\nfunction castArray() {\n  if (!arguments.length) {\n    return [];\n  }\n  var value = arguments[0];\n  return isArray_1(value) ? value : [value];\n}\n\nvar castArray_1 = castArray;\n\nconst createHOC = withHOC => {\n  return (components, options) => {\n    const _components = { ...components\n    };\n    const optionsByKey = {};\n\n    const optionsList = castArray_1(options);\n\n    optionsList.forEach(({\n      key,\n      keys,\n      ...opt\n    }) => {\n      const _keys = key ? [key] : keys !== null && keys !== void 0 ? keys : Object.keys(_components);\n\n      _keys.forEach(_key => {\n        optionsByKey[_key] = { ...optionsByKey[_key],\n          ...opt\n        };\n      });\n    });\n    Object.keys(optionsByKey).forEach(key => {\n      if (!_components[key]) return;\n      _components[key] = withHOC(_components[key], optionsByKey[key]);\n    });\n    return _components;\n  };\n};\n/**\n * Create components HOC by plugin key.\n */\n\n\nconst createNodesHOC = HOC => {\n  return createHOC(createNodeHOC(HOC));\n};\n/**\n * Create components HOC by plugin key with a custom HOC.\n */\n\nconst createNodesWithHOC = withHOC => {\n  return createHOC(withHOC);\n};\n\nconst withProps = (Component, props) => _props => /*#__PURE__*/jsx(Component, { ..._props,\n  ...props\n});\n\n/**\n * Match the object with a predicate object or function.\n * If predicate is:\n * - object: every predicate key/value should be in obj.\n * - function: it should return true.\n */\nconst match = (obj, predicate) => {\n  if (!predicate) return true;\n\n  if (typeof predicate === 'object') {\n    return Object.entries(predicate).every(([key, value]) => {\n      const values = castArray_1(value);\n\n      return values.includes(obj[key]);\n    });\n  }\n\n  return predicate(obj);\n};\nconst matchPredicate = predicate => obj => match(obj, predicate);\n/**\n * Extended query options for slate queries:\n * - `match` can be an object predicate where one of the values should include the node value.\n * Example: { type: ['1', '2'] } will match the nodes having one of these 2 types.\n */\n\nconst getQueryOptions = (editor, options) => {\n  return { ...options,\n    match: n => match(n, options.match) && (!(options !== null && options !== void 0 && options.block) || Editor.isBlock(editor, n))\n  };\n};\n\n/**\n * Iterate through all of the nodes in the editor and return the first match. If\n * no match is found, return undefined.\n */\n/**\n * Get the first descendant node matching the condition.\n */\n\nconst findDescendant = (editor, options) => {\n  // Slate throws when things aren't found so we wrap in a try catch and return undefined on throw.\n  try {\n    const {\n      match: _match,\n      at = editor.selection,\n      reverse = false,\n      voids = false\n    } = options;\n    if (!at) return;\n    let from;\n    let to;\n\n    if (Span.isSpan(at)) {\n      [from, to] = at;\n    } else if (Range.isRange(at)) {\n      const first = Editor.path(editor, at, {\n        edge: 'start'\n      });\n      const last = Editor.path(editor, at, {\n        edge: 'end'\n      });\n      from = reverse ? last : first;\n      to = reverse ? first : last;\n    }\n\n    let root = [editor, []];\n\n    if (Path.isPath(at)) {\n      root = Editor.node(editor, at);\n    }\n\n    const nodeEntries = Node.descendants(root[0], {\n      reverse,\n      from,\n      to,\n      pass: ([n]) => voids ? false : Editor.isVoid(editor, n)\n    });\n\n    for (const [node, path] of nodeEntries) {\n      if (match(node, _match)) {\n        return [node, at.concat(path)];\n      }\n    }\n  } catch (error) {\n    return undefined;\n  }\n};\n\n/**\n * Find node matching the condition.\n */\nconst findNode = (editor, options = {}) => {\n  // Slate throws when things aren't found so we wrap in a try catch and return undefined on throw.\n  try {\n    const nodeEntries = Editor.nodes(editor, {\n      at: editor.selection || [],\n      ...options,\n      match: node => match(node, options.match)\n    });\n\n    for (const [node, path] of nodeEntries) {\n      return [node, path];\n    }\n  } catch (error) {\n    return undefined;\n  }\n};\n\n/**\n * Get node above a location (default: selection).\n */\n\nconst getAbove = (editor, options = {}) => {\n  return Editor.above(editor, getQueryOptions(editor, options));\n};\n\n/**\n * Get the block above a location (default: selection).\n */\n\nconst getBlockAbove = (editor, options = {}) => getAbove(editor, { ...options,\n  block: true\n});\n\n/**\n * Get children node entries of a node entry.\n * TODO: try Node.children\n */\nconst getChildren = nodeEntry => {\n  const [node, path] = nodeEntry;\n  const children = node.children || [];\n  return children.map((child, index) => {\n    const childPath = path.concat([index]);\n    return [child, childPath];\n  });\n};\n\n/**\n * Get the last child of a node or null if no children.\n */\n\nconst getLastChild$1 = nodeEntry => {\n  const [node, path] = nodeEntry;\n  if (!node.children.length) return null;\n  return [node.children[node.children.length - 1], path.concat([node.children.length - 1])];\n};\n/**\n * Get last child path. If there is no child, last index is 0.\n */\n\nconst getLastChildPath = nodeEntry => {\n  const lastChild = getLastChild$1(nodeEntry);\n  if (!lastChild) return nodeEntry[1].concat([-1]);\n  return lastChild[1];\n};\n/**\n * Is the child path the last one of the parent.\n */\n\nconst isLastChild = (parentEntry, childPath) => {\n  const lastChildPath = getLastChildPath(parentEntry);\n  return Path.equals(lastChildPath, childPath);\n};\n\nconst getLastChild = (node, level) => {\n  if (!(level + 1) || !isAncestor(node)) return node;\n  const {\n    children\n  } = node;\n  const lastNode = children[children.length - 1];\n  return getLastChild(lastNode, level - 1);\n};\n/**\n * Get the last node at a given level.\n */\n\n\nconst getLastNode = (editor, level) => {\n  const {\n    children\n  } = editor;\n  const lastNode = children[children.length - 1];\n  if (!lastNode) return;\n  const [, lastPath] = Editor.last(editor, []);\n  return [getLastChild(lastNode, level - 1), lastPath.slice(0, level + 1)];\n};\n\n/**\n * Get selected mark by type.\n */\n\nconst getMark = (editor, type) => {\n  var _Editor$marks;\n\n  if (!editor) return;\n  return (_Editor$marks = Editor.marks(editor)) === null || _Editor$marks === void 0 ? void 0 : _Editor$marks[type];\n};\n\n/**\n * Get the next sibling nodes after a path.\n * @param ancestorEntry Ancestor of the sibling nodes\n * @param path Path of the reference node\n */\nconst getNextSiblingNodes = (ancestorEntry, path) => {\n  const [ancestor, ancestorPath] = ancestorEntry;\n  const leafIndex = path[ancestorPath.length];\n  const siblings = [];\n\n  if (leafIndex + 1 < ancestor.children.length) {\n    for (let i = leafIndex + 1; i < ancestor.children.length; i++) {\n      siblings.push(ancestor.children[i]);\n    }\n  }\n\n  return siblings;\n};\n\n/**\n * Get the descendant node referred to by a specific path.\n * If the path is an empty array, it refers to the root node itself.\n * If the node is not found, return null.\n */\n\nconst getNode = (editor, path) => {\n  try {\n    return Node.get(editor, path);\n  } catch (err) {\n    return null;\n  }\n};\n\n/**\n * Return {@link Editor.unhangRange} if `unhang` is true and if `at` (default: selection) is a range.\n */\nconst unhangRange = (editor, options = {}) => {\n  const {\n    at = editor.selection,\n    voids,\n    unhang = true\n  } = options;\n\n  if (Range.isRange(at) && unhang) {\n    options.at = Editor.unhangRange(editor, at, {\n      voids\n    });\n  }\n};\n\nconst getNodes = (editor, options = {}) => {\n  unhangRange(editor, options);\n  return Editor.nodes(editor, getQueryOptions(editor, options));\n};\n\n/**\n * See {@link Editor.parent}.\n * Returns undefined if there is no parent.\n */\nconst getParent = (editor, at, options) => {\n  try {\n    return Editor.parent(editor, at, options);\n  } catch (err) {}\n};\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nvar _arrayMap = arrayMap;\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nvar _listCacheClear = listCacheClear;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nvar eq_1 = eq;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq_1(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nvar _assocIndexOf = assocIndexOf;\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nvar _listCacheDelete = listCacheDelete;\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nvar _listCacheGet = listCacheGet;\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return _assocIndexOf(this.__data__, key) > -1;\n}\n\nvar _listCacheHas = listCacheHas;\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nvar _listCacheSet = listCacheSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = _listCacheClear;\nListCache.prototype['delete'] = _listCacheDelete;\nListCache.prototype.get = _listCacheGet;\nListCache.prototype.has = _listCacheHas;\nListCache.prototype.set = _listCacheSet;\n\nvar _ListCache = ListCache;\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new _ListCache;\n  this.size = 0;\n}\n\nvar _stackClear = stackClear;\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nvar _stackDelete = stackDelete;\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nvar _stackGet = stackGet;\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nvar _stackHas = stackHas;\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\nvar _freeGlobal = freeGlobal;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = _freeGlobal || freeSelf || Function('return this')();\n\nvar _root = root;\n\n/** Built-in value references. */\nvar Symbol = _root.Symbol;\n\nvar _Symbol = Symbol;\n\n/** Used for built-in method references. */\nvar objectProto$f = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$c = objectProto$f.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString$1 = objectProto$f.toString;\n\n/** Built-in value references. */\nvar symToStringTag$1 = _Symbol ? _Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty$c.call(value, symToStringTag$1),\n      tag = value[symToStringTag$1];\n\n  try {\n    value[symToStringTag$1] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString$1.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag$1] = tag;\n    } else {\n      delete value[symToStringTag$1];\n    }\n  }\n  return result;\n}\n\nvar _getRawTag = getRawTag;\n\n/** Used for built-in method references. */\nvar objectProto$e = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto$e.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nvar _objectToString = objectToString;\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = _Symbol ? _Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? _getRawTag(value)\n    : _objectToString(value);\n}\n\nvar _baseGetTag = baseGetTag;\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nvar isObject_1 = isObject;\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag$1 = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject_1(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = _baseGetTag(value);\n  return tag == funcTag$1 || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nvar isFunction_1 = isFunction;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = _root['__core-js_shared__'];\n\nvar _coreJsData = coreJsData;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(_coreJsData && _coreJsData.keys && _coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nvar _isMasked = isMasked;\n\n/** Used for built-in method references. */\nvar funcProto$2 = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString$2 = funcProto$2.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString$2.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nvar _toSource = toSource;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto$1 = Function.prototype,\n    objectProto$d = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString$1 = funcProto$1.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$b = objectProto$d.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString$1.call(hasOwnProperty$b).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject_1(value) || _isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction_1(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(_toSource(value));\n}\n\nvar _baseIsNative = baseIsNative;\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nvar _getValue = getValue;\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = _getValue(object, key);\n  return _baseIsNative(value) ? value : undefined;\n}\n\nvar _getNative = getNative;\n\n/* Built-in method references that are verified to be native. */\nvar Map = _getNative(_root, 'Map');\n\nvar _Map = Map;\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = _getNative(Object, 'create');\n\nvar _nativeCreate = nativeCreate;\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = _nativeCreate ? _nativeCreate(null) : {};\n  this.size = 0;\n}\n\nvar _hashClear = hashClear;\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nvar _hashDelete = hashDelete;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED$2 = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto$c = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$a = objectProto$c.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (_nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED$2 ? undefined : result;\n  }\n  return hasOwnProperty$a.call(data, key) ? data[key] : undefined;\n}\n\nvar _hashGet = hashGet;\n\n/** Used for built-in method references. */\nvar objectProto$b = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$9 = objectProto$b.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return _nativeCreate ? (data[key] !== undefined) : hasOwnProperty$9.call(data, key);\n}\n\nvar _hashHas = hashHas;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED$1 = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (_nativeCreate && value === undefined) ? HASH_UNDEFINED$1 : value;\n  return this;\n}\n\nvar _hashSet = hashSet;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = _hashClear;\nHash.prototype['delete'] = _hashDelete;\nHash.prototype.get = _hashGet;\nHash.prototype.has = _hashHas;\nHash.prototype.set = _hashSet;\n\nvar _Hash = Hash;\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new _Hash,\n    'map': new (_Map || _ListCache),\n    'string': new _Hash\n  };\n}\n\nvar _mapCacheClear = mapCacheClear;\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nvar _isKeyable = isKeyable;\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return _isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nvar _getMapData = getMapData;\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = _getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nvar _mapCacheDelete = mapCacheDelete;\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return _getMapData(this, key).get(key);\n}\n\nvar _mapCacheGet = mapCacheGet;\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return _getMapData(this, key).has(key);\n}\n\nvar _mapCacheHas = mapCacheHas;\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = _getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nvar _mapCacheSet = mapCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = _mapCacheClear;\nMapCache.prototype['delete'] = _mapCacheDelete;\nMapCache.prototype.get = _mapCacheGet;\nMapCache.prototype.has = _mapCacheHas;\nMapCache.prototype.set = _mapCacheSet;\n\nvar _MapCache = MapCache;\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof _ListCache) {\n    var pairs = data.__data__;\n    if (!_Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new _MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nvar _stackSet = stackSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new _ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = _stackClear;\nStack.prototype['delete'] = _stackDelete;\nStack.prototype.get = _stackGet;\nStack.prototype.has = _stackHas;\nStack.prototype.set = _stackSet;\n\nvar _Stack = Stack;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nvar _setCacheAdd = setCacheAdd;\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nvar _setCacheHas = setCacheHas;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new _MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = _setCacheAdd;\nSetCache.prototype.has = _setCacheHas;\n\nvar _SetCache = SetCache;\n\n/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvar _arraySome = arraySome;\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nvar _cacheHas = cacheHas;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG$5 = 1,\n    COMPARE_UNORDERED_FLAG$3 = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG$5,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG$3) ? new _SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!_arraySome(other, function(othValue, othIndex) {\n            if (!_cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nvar _equalArrays = equalArrays;\n\n/** Built-in value references. */\nvar Uint8Array = _root.Uint8Array;\n\nvar _Uint8Array = Uint8Array;\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nvar _mapToArray = mapToArray;\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nvar _setToArray = setToArray;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG$4 = 1,\n    COMPARE_UNORDERED_FLAG$2 = 2;\n\n/** `Object#toString` result references. */\nvar boolTag$1 = '[object Boolean]',\n    dateTag$1 = '[object Date]',\n    errorTag$1 = '[object Error]',\n    mapTag$2 = '[object Map]',\n    numberTag$1 = '[object Number]',\n    regexpTag$1 = '[object RegExp]',\n    setTag$2 = '[object Set]',\n    stringTag$1 = '[object String]',\n    symbolTag$1 = '[object Symbol]';\n\nvar arrayBufferTag$1 = '[object ArrayBuffer]',\n    dataViewTag$2 = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto$1 = _Symbol ? _Symbol.prototype : undefined,\n    symbolValueOf = symbolProto$1 ? symbolProto$1.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag$2:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag$1:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new _Uint8Array(object), new _Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag$1:\n    case dateTag$1:\n    case numberTag$1:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq_1(+object, +other);\n\n    case errorTag$1:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag$1:\n    case stringTag$1:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag$2:\n      var convert = _mapToArray;\n\n    case setTag$2:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG$4;\n      convert || (convert = _setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG$2;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = _equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag$1:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nvar _equalByTag = equalByTag;\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nvar _arrayPush = arrayPush;\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray_1(object) ? result : _arrayPush(result, symbolsFunc(object));\n}\n\nvar _baseGetAllKeys = baseGetAllKeys;\n\n/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nvar _arrayFilter = arrayFilter;\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nvar stubArray_1 = stubArray;\n\n/** Used for built-in method references. */\nvar objectProto$a = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable$1 = objectProto$a.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray_1 : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return _arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable$1.call(object, symbol);\n  });\n};\n\nvar _getSymbols = getSymbols;\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nvar _baseTimes = baseTimes;\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nvar isObjectLike_1 = isObjectLike;\n\n/** `Object#toString` result references. */\nvar argsTag$2 = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike_1(value) && _baseGetTag(value) == argsTag$2;\n}\n\nvar _baseIsArguments = baseIsArguments;\n\n/** Used for built-in method references. */\nvar objectProto$9 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$8 = objectProto$9.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto$9.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = _baseIsArguments(function() { return arguments; }()) ? _baseIsArguments : function(value) {\n  return isObjectLike_1(value) && hasOwnProperty$8.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nvar isArguments_1 = isArguments;\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nvar stubFalse_1 = stubFalse;\n\nvar isBuffer_1 = createCommonjsModule(function (module, exports) {\n/** Detect free variable `exports`. */\nvar freeExports = exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? _root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse_1;\n\nmodule.exports = isBuffer;\n});\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER$1 = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER$1 : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nvar _isIndex = isIndex;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nvar isLength_1 = isLength;\n\n/** `Object#toString` result references. */\nvar argsTag$1 = '[object Arguments]',\n    arrayTag$1 = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag$1 = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag$3 = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag$1 = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag$1 = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag$1 = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag$1] = typedArrayTags[arrayTag$1] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag$1] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag$1] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag$3] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag$1] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag$1] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike_1(value) &&\n    isLength_1(value.length) && !!typedArrayTags[_baseGetTag(value)];\n}\n\nvar _baseIsTypedArray = baseIsTypedArray;\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nvar _baseUnary = baseUnary;\n\nvar _nodeUtil = createCommonjsModule(function (module, exports) {\n/** Detect free variable `exports`. */\nvar freeExports = exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && _freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n});\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = _nodeUtil && _nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? _baseUnary(nodeIsTypedArray) : _baseIsTypedArray;\n\nvar isTypedArray_1 = isTypedArray;\n\n/** Used for built-in method references. */\nvar objectProto$8 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$7 = objectProto$8.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray_1(value),\n      isArg = !isArr && isArguments_1(value),\n      isBuff = !isArr && !isArg && isBuffer_1(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray_1(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? _baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty$7.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           _isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nvar _arrayLikeKeys = arrayLikeKeys;\n\n/** Used for built-in method references. */\nvar objectProto$7 = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto$7;\n\n  return value === proto;\n}\n\nvar _isPrototype = isPrototype;\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nvar _overArg = overArg;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = _overArg(Object.keys, Object);\n\nvar _nativeKeys = nativeKeys;\n\n/** Used for built-in method references. */\nvar objectProto$6 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$6 = objectProto$6.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!_isPrototype(object)) {\n    return _nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty$6.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nvar _baseKeys = baseKeys;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength_1(value.length) && !isFunction_1(value);\n}\n\nvar isArrayLike_1 = isArrayLike;\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike_1(object) ? _arrayLikeKeys(object) : _baseKeys(object);\n}\n\nvar keys_1 = keys;\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return _baseGetAllKeys(object, keys_1, _getSymbols);\n}\n\nvar _getAllKeys = getAllKeys;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG$3 = 1;\n\n/** Used for built-in method references. */\nvar objectProto$5 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$5 = objectProto$5.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG$3,\n      objProps = _getAllKeys(object),\n      objLength = objProps.length,\n      othProps = _getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty$5.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nvar _equalObjects = equalObjects;\n\n/* Built-in method references that are verified to be native. */\nvar DataView = _getNative(_root, 'DataView');\n\nvar _DataView = DataView;\n\n/* Built-in method references that are verified to be native. */\nvar Promise$1 = _getNative(_root, 'Promise');\n\nvar _Promise = Promise$1;\n\n/* Built-in method references that are verified to be native. */\nvar Set = _getNative(_root, 'Set');\n\nvar _Set = Set;\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = _getNative(_root, 'WeakMap');\n\nvar _WeakMap = WeakMap;\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag$2 = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = _toSource(_DataView),\n    mapCtorString = _toSource(_Map),\n    promiseCtorString = _toSource(_Promise),\n    setCtorString = _toSource(_Set),\n    weakMapCtorString = _toSource(_WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = _baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((_DataView && getTag(new _DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (_Map && getTag(new _Map) != mapTag) ||\n    (_Promise && getTag(_Promise.resolve()) != promiseTag) ||\n    (_Set && getTag(new _Set) != setTag) ||\n    (_WeakMap && getTag(new _WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = _baseGetTag(value),\n        Ctor = result == objectTag$2 ? value.constructor : undefined,\n        ctorString = Ctor ? _toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nvar _getTag = getTag;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG$2 = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag$1 = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto$4 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$4 = objectProto$4.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray_1(object),\n      othIsArr = isArray_1(other),\n      objTag = objIsArr ? arrayTag : _getTag(object),\n      othTag = othIsArr ? arrayTag : _getTag(other);\n\n  objTag = objTag == argsTag ? objectTag$1 : objTag;\n  othTag = othTag == argsTag ? objectTag$1 : othTag;\n\n  var objIsObj = objTag == objectTag$1,\n      othIsObj = othTag == objectTag$1,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer_1(object)) {\n    if (!isBuffer_1(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new _Stack);\n    return (objIsArr || isTypedArray_1(object))\n      ? _equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : _equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG$2)) {\n    var objIsWrapped = objIsObj && hasOwnProperty$4.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty$4.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new _Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new _Stack);\n  return _equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nvar _baseIsEqualDeep = baseIsEqualDeep;\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike_1(value) && !isObjectLike_1(other))) {\n    return value !== value && other !== other;\n  }\n  return _baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nvar _baseIsEqual = baseIsEqual;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG$1 = 1,\n    COMPARE_UNORDERED_FLAG$1 = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new _Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? _baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG$1 | COMPARE_UNORDERED_FLAG$1, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nvar _baseIsMatch = baseIsMatch;\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject_1(value);\n}\n\nvar _isStrictComparable = isStrictComparable;\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys_1(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, _isStrictComparable(value)];\n  }\n  return result;\n}\n\nvar _getMatchData = getMatchData;\n\n/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nvar _matchesStrictComparable = matchesStrictComparable;\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = _getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return _matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || _baseIsMatch(object, source, matchData);\n  };\n}\n\nvar _baseMatches = baseMatches;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike_1(value) && _baseGetTag(value) == symbolTag);\n}\n\nvar isSymbol_1 = isSymbol;\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray_1(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol_1(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nvar _isKey = isKey;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || _MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = _MapCache;\n\nvar memoize_1 = memoize;\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize_1(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nvar _memoizeCapped = memoizeCapped;\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = _memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nvar _stringToPath = stringToPath;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY$1 = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = _Symbol ? _Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray_1(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return _arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol_1(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY$1) ? '-0' : result;\n}\n\nvar _baseToString = baseToString;\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : _baseToString(value);\n}\n\nvar toString_1 = toString;\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray_1(value)) {\n    return value;\n  }\n  return _isKey(value, object) ? [value] : _stringToPath(toString_1(value));\n}\n\nvar _castPath = castPath;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol_1(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nvar _toKey = toKey;\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = _castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[_toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nvar _baseGet = baseGet;\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : _baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nvar get_1 = get;\n\n/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nvar _baseHasIn = baseHasIn;\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = _castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = _toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength_1(length) && _isIndex(key, length) &&\n    (isArray_1(object) || isArguments_1(object));\n}\n\nvar _hasPath = hasPath;\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && _hasPath(object, path, _baseHasIn);\n}\n\nvar hasIn_1 = hasIn;\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (_isKey(path) && _isStrictComparable(srcValue)) {\n    return _matchesStrictComparable(_toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get_1(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn_1(object, path)\n      : _baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nvar _baseMatchesProperty = baseMatchesProperty;\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nvar identity_1 = identity;\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nvar _baseProperty = baseProperty;\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return _baseGet(object, path);\n  };\n}\n\nvar _basePropertyDeep = basePropertyDeep;\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return _isKey(path) ? _baseProperty(_toKey(path)) : _basePropertyDeep(path);\n}\n\nvar property_1 = property;\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity_1;\n  }\n  if (typeof value == 'object') {\n    return isArray_1(value)\n      ? _baseMatchesProperty(value[0], value[1])\n      : _baseMatches(value);\n  }\n  return property_1(value);\n}\n\nvar _baseIteratee = baseIteratee;\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nvar _createBaseFor = createBaseFor;\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = _createBaseFor();\n\nvar _baseFor = baseFor;\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && _baseFor(object, iteratee, keys_1);\n}\n\nvar _baseForOwn = baseForOwn;\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike_1(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nvar _createBaseEach = createBaseEach;\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = _createBaseEach(_baseForOwn);\n\nvar _baseEach = baseEach;\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike_1(collection) ? Array(collection.length) : [];\n\n  _baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nvar _baseMap = baseMap;\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray_1(collection) ? _arrayMap : _baseMap;\n  return func(collection, _baseIteratee(iteratee));\n}\n\nvar map_1 = map;\n\n/* eslint-disable no-constant-condition */\n\n/**\n * {@link Editor.before} with additional options.\n * TODO: support for sequence of any characters.\n */\nconst getPointBefore = (editor, at, options) => {\n  if (!options || !options.match && !options.matchString) {\n    return Editor.before(editor, at, options);\n  }\n\n  const unitOffset = !options.unit || options.unit === 'offset';\n  const matchStrings = options.matchString ? castArray_1(options.matchString) : [''];\n  let point;\n  matchStrings.some(matchString => {\n    let beforeAt = at;\n    let previousBeforePoint = Editor.point(editor, at, {\n      edge: 'end'\n    });\n    const stackLength = matchString.length + 1;\n    const stack = Array(stackLength);\n    let count = 0;\n\n    while (true) {\n      var _options$match;\n\n      const beforePoint = Editor.before(editor, beforeAt, options); // not found\n\n      if (!beforePoint) return; // different path\n\n      if (!options.multiPaths && !Path.equals(beforePoint.path, previousBeforePoint.path)) {\n        return;\n      }\n\n      const beforeString = Editor.string(editor, {\n        anchor: beforePoint,\n        focus: previousBeforePoint\n      });\n      let beforeStringToMatch = beforeString;\n\n      if (unitOffset && stackLength) {\n        stack.unshift({\n          point: beforePoint,\n          text: beforeString\n        });\n        stack.pop();\n        beforeStringToMatch = map_1(stack.slice(0, -1), 'text').join('');\n      }\n\n      if (matchString === beforeStringToMatch || (_options$match = options.match) !== null && _options$match !== void 0 && _options$match.call(options, {\n        beforeString: beforeStringToMatch,\n        beforePoint,\n        at\n      })) {\n        if (options.afterMatch) {\n          if (stackLength && unitOffset) {\n            var _stack;\n\n            point = (_stack = stack[stack.length - 1]) === null || _stack === void 0 ? void 0 : _stack.point;\n            return !!point;\n          }\n\n          point = previousBeforePoint;\n          return true;\n        }\n\n        point = beforePoint;\n        return true;\n      }\n\n      previousBeforePoint = beforePoint;\n      beforeAt = beforePoint;\n      count += 1;\n\n      if (!options.skipInvalid) {\n        if (!matchString || count > matchString.length) return;\n      }\n    }\n  });\n  return point;\n};\n\n/**\n * Get the point from a location (default: selection).\n * If the location is a range, get the anchor point.\n * If the location is a path, get the point at this path with offset 0.\n * If `focus` is true, get the focus point.\n */\n\nconst getPointFromLocation = (editor, {\n  at = editor.selection,\n  focus\n} = {}) => {\n  let point;\n  if (Range.isRange(at)) point = !focus ? at.anchor : at.focus;\n  if (Point.isPoint(at)) point = at;\n  if (Path.isPath(at)) point = {\n    path: at,\n    offset: 0\n  };\n  return point;\n};\n\n/**\n * If the start point is inside an inline void, get the point before or after it.\n */\n\nconst getPointNextToVoid = (editor, {\n  at,\n  after\n}) => {\n  const startVoid = Editor.void(editor, {\n    at,\n    mode: 'highest'\n  });\n\n  if (startVoid) {\n    const blockAbove = getBlockAbove(editor, {\n      at\n    });\n\n    if (blockAbove) {\n      let nextPoint;\n\n      if (after) {\n        nextPoint = Editor.after(editor, at);\n      } else {\n        nextPoint = Editor.before(editor, at);\n      }\n\n      if (nextPoint && blockAbove && Path.isAncestor(blockAbove[1], nextPoint.path)) {\n        at = nextPoint;\n      }\n    }\n  }\n\n  return at;\n};\n\n/**\n * Query the node entry.\n */\nconst queryNode = (entry, {\n  filter = () => true,\n  allow = [],\n  exclude = []\n} = {}) => {\n  const allows = castArray_1(allow);\n  const excludes = castArray_1(exclude);\n\n  let filterAllow = () => true;\n\n  if (allows.length) {\n    filterAllow = ([n]) => allows.includes(n.type);\n  }\n\n  let filterExclude = () => true;\n\n  if (excludes.length) {\n    filterExclude = ([n]) => !excludes.includes(n.type);\n  }\n\n  const _entry = entry;\n  return !!_entry && filter(_entry) && filterAllow(_entry) && filterExclude(_entry);\n};\n\n/**\n * Find the block before a block by id.\n * If not found, find the first block by id and return [null, its previous path]\n */\n\nconst getPreviousBlockById = (editor, id, query) => {\n  const entry = findNode(editor, {\n    match: {\n      id\n    }\n  });\n\n  if (entry) {\n    const prevEntry = Editor.previous(editor, {\n      at: entry[1]\n    });\n\n    if (prevEntry && prevEntry[0].id && Editor.isBlock(editor, prevEntry[0])) {\n      return prevEntry;\n    }\n  }\n\n  let found = false;\n  const nodeEntries = [...Editor.nodes(editor, {\n    mode: 'highest',\n    reverse: true,\n    match: _n => {\n      const n = _n; // filter nodes that are not blocks and without id.\n\n      if (!Editor.isBlock(editor, n) || !n.id) return false; // find the block then take the previous one.\n\n      if (n.id === id) {\n        found = true;\n        return false;\n      }\n\n      return found && n.id !== id && queryNode([n, []], query);\n    },\n    at: []\n  })];\n\n  if (nodeEntries.length) {\n    return nodeEntries[0];\n  }\n\n  if (!found) return;\n  const firstNodeEntry = [...Editor.nodes(editor, {\n    mode: 'highest',\n    match: _n => {\n      const n = _n;\n      return Editor.isBlock(editor, n) && !!n.id && queryNode([n, []], query);\n    },\n    at: []\n  })];\n\n  if (firstNodeEntry.length) {\n    const [, path] = firstNodeEntry[0];\n    path[path.length - 1] = path[path.length - 1] - 1;\n    return [null, path];\n  }\n};\n\nconst getPreviousPath = path => {\n  if (path.length === 0) return;\n  const last = path[path.length - 1];\n  if (last <= 0) return;\n  return path.slice(0, -1).concat(last - 1);\n};\n\n/**\n * Get range from {@link getPointBefore} to the end point of `at`.\n */\nconst getRangeBefore = (editor, at, options) => {\n  const anchor = getPointBefore(editor, at, options);\n  if (!anchor) return;\n  const focus = Editor.point(editor, at, {\n    edge: 'end'\n  });\n  return {\n    anchor,\n    focus\n  };\n};\n\n/**\n * Get the range from the start of the block above a location (default: selection) to the location.\n */\n\nconst getRangeFromBlockStart = (editor, options = {}) => {\n  var _getBlockAbove;\n\n  const path = (_getBlockAbove = getBlockAbove(editor, options)) === null || _getBlockAbove === void 0 ? void 0 : _getBlockAbove[1];\n  if (!path) return;\n  const start = Editor.start(editor, path);\n  const focus = getPointFromLocation(editor, options);\n  if (!focus) return;\n  return {\n    anchor: start,\n    focus\n  };\n};\n\n/**\n * See {@link Editor.string}.\n * If `at` is not defined, return an empty string.\n */\n\nconst getText = (editor, at) => {\n  var _ref;\n\n  return (_ref = at && Editor.string(editor, at)) !== null && _ref !== void 0 ? _ref : '';\n};\n\n/**\n * Get the selected text.\n * Return empty string if no selection.\n */\n\nconst getSelectionText = editor => getText(editor, editor.selection);\n\nconst hasSingleChild = node => {\n  if (Text.isText(node)) {\n    return true;\n  }\n\n  return node.children.length === 1 && hasSingleChild(node.children[0]);\n};\n\n/**\n * Is an ancestor empty (empty text and no inline children).\n */\n\nconst isAncestorEmpty = (editor, node) => !Node.string(node) && !node.children.some(n => Editor.isInline(editor, n));\n\n/**\n * Is the block above the selection empty.\n */\n\nconst isBlockAboveEmpty = editor => {\n  var _getBlockAbove;\n\n  const block = (_getBlockAbove = getBlockAbove(editor)) === null || _getBlockAbove === void 0 ? void 0 : _getBlockAbove[0];\n  if (!block) return false;\n  return isAncestorEmpty(editor, block);\n};\n\n/**\n * Is there empty text after the selection.\n * If there is no leaf after the selected leaf, return {@link Editor.isEnd}.\n * Else, check if the next leaves are empty.\n */\n\nconst isBlockTextEmptyAfterSelection = editor => {\n  if (!editor.selection) return false;\n  const blockAbove = getBlockAbove(editor);\n  if (!blockAbove) return false;\n  const cursor = editor.selection.focus;\n  const selectionParentEntry = getParent(editor, editor.selection);\n  if (!selectionParentEntry) return false;\n  const [, selectionParentPath] = selectionParentEntry;\n  if (!Editor.isEnd(editor, cursor, selectionParentPath)) return false;\n  const siblingNodes = getNextSiblingNodes(blockAbove, cursor.path);\n\n  if (siblingNodes.length) {\n    for (const siblingNode of siblingNodes) {\n      if (isText(siblingNode) && siblingNode.text) {\n        return false;\n      }\n    }\n  } else {\n    return Editor.isEnd(editor, cursor, blockAbove[1]);\n  }\n\n  return true;\n};\n\n/**\n * See {@link Range.isCollapsed}.\n * Return false if `range` is not defined.\n */\n\nconst isCollapsed = range => !!range && Range.isCollapsed(range);\n\n/**\n * {@link Editor.isEnd}. If point is null, return false.\n */\n\nconst isEnd = (editor, point, at) => !!point && Editor.isEnd(editor, point, at);\n\n/**\n * See {@link Range.isExpanded}.\n * Return false if `range` is not defined.\n */\n\nconst isExpanded = range => !!range && Range.isExpanded(range);\n\n/**\n * Is it the first child of the parent\n */\nconst isFirstChild = path => path[path.length - 1] === 0;\n\n/**\n * @returns whether the provided parameter is undefined.\n */\nfunction isUndefined(obj) {\n  return typeof obj === 'undefined';\n}\nfunction isNull(obj) {\n  return obj === null;\n}\n/**\n * @returns whether the provided parameter is undefined or null.\n */\n\nfunction isUndefinedOrNull(obj) {\n  return isUndefined(obj) || isNull(obj);\n}\n/**\n * @returns whether the provided parameter is defined.\n */\n\nfunction isDefined(arg) {\n  return !isUndefinedOrNull(arg);\n}\n\n/**\n * Is the mark defined in the selection.\n */\n\nconst isMarkActive = (editor, type) => {\n  return isDefined(getMark(editor, type));\n};\n\nconst AFTER_MATCH_REGEX = /^(\\s|$)/;\n/**\n * Is a point at the end of a word\n */\n\nconst isPointAtWordEnd = (editor, {\n  at\n}) => {\n  // Point after at\n  const after = Editor.after(editor, at); // From at to after\n\n  const afterRange = Editor.range(editor, at, after);\n  const afterText = getText(editor, afterRange); // Match regex on after text\n\n  return !!afterText.match(AFTER_MATCH_REGEX);\n};\n\n/**\n * Is the range (default: selection) across blocks.\n */\n\nconst isRangeAcrossBlocks = (editor, {\n  at,\n  ...options\n} = {}) => {\n  if (!at) at = editor.selection;\n  if (!at) return false;\n  const [start, end] = Range.edges(at);\n  const startBlock = getBlockAbove(editor, {\n    at: start,\n    ...options\n  });\n  const endBlock = Editor.above(editor, {\n    at: end,\n    ...options\n  });\n  return startBlock && endBlock && !Path.equals(startBlock[1], endBlock[1]);\n};\n\n/**\n * Is the range in the same single text path.\n */\n\nconst isRangeInSingleText = at => {\n  const [start, end] = Range.edges(at);\n  return Path.equals(start.path, end.path);\n};\n\n/**\n * Is the selection focus at the end of its parent block.\n */\n\nconst isSelectionAtBlockEnd = editor => {\n  var _getBlockAbove, _editor$selection;\n\n  const path = (_getBlockAbove = getBlockAbove(editor)) === null || _getBlockAbove === void 0 ? void 0 : _getBlockAbove[1];\n  return !!path && isEnd(editor, (_editor$selection = editor.selection) === null || _editor$selection === void 0 ? void 0 : _editor$selection.focus, path);\n};\n\n/**\n * {@link Editor.isStart}. If point is null, return false.\n */\n\nconst isStart = (editor, point, at) => !!point && Editor.isStart(editor, point, at);\n\n/**\n * Is the selection focus at the start of its parent block.\n */\n\nconst isSelectionAtBlockStart = editor => {\n  var _getBlockAbove, _editor$selection;\n\n  const path = (_getBlockAbove = getBlockAbove(editor)) === null || _getBlockAbove === void 0 ? void 0 : _getBlockAbove[1];\n  return !!path && isStart(editor, (_editor$selection = editor.selection) === null || _editor$selection === void 0 ? void 0 : _editor$selection.focus, path);\n};\n\n/**\n * Is the selection expanded.\n */\n\nconst isSelectionExpanded = editor => isExpanded(editor.selection);\n\nconst isTextByPath = (editor, path) => {\n  const node = Node.get(editor, path);\n  return Text.isText(node);\n};\n\n/**\n * Does the node match the type provided.\n */\n\nconst isType = (editor, node, pluginKey) => {\n  const keys = castArray_1(pluginKey);\n  keys.forEach(key => {\n    if ((node === null || node === void 0 ? void 0 : node.type) === getPlatePluginType(editor, key)) return true;\n  });\n  return false;\n};\n\nconst escapeRegExp = text => {\n  return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\\\s]/g, '\\\\$&');\n};\n\n/**\n * Is the word at the point after a trigger (punctuation character)\n * https://github.com/ianstormtaylor/slate/blob/main/packages/slate/src/utils/string.ts#L6\n */\n\nconst isWordAfterTrigger = (editor, {\n  at,\n  trigger\n}) => {\n  // Point at the start of previous word (excluding punctuation)\n  const wordBefore = Editor.before(editor, at, {\n    unit: 'word'\n  }); // Point before wordBefore\n\n  const before = wordBefore && Editor.before(editor, wordBefore); // Range from before to start\n\n  const beforeRange = before && Editor.range(editor, before, at); // Before text\n\n  const beforeText = getText(editor, beforeRange); // Starts with char and ends with word characters\n\n  const escapedTrigger = escapeRegExp(trigger);\n  const beforeRegex = new RegExp(`^${escapedTrigger}([\\\\w|À-ÖØ-öø-ÿ|а-яА-ЯёЁ]+)$`); // Match regex on before text\n\n  const match = !!beforeText && beforeText.match(beforeRegex);\n  return {\n    range: beforeRange,\n    match\n  };\n};\n\n/**\n * Iterate through all of the nodes in the editor and break early for the first truthy match. Otherwise\n * returns false.\n */\n\nconst someNode = (editor, options) => {\n  return !!findNode(editor, options);\n};\n\n/**\n * Query the editor state.\n */\n\nconst queryEditor = (editor, {\n  filter,\n  selectionAtBlockStart,\n  selectionAtBlockEnd,\n  allow,\n  exclude,\n  at = editor.selection || []\n} = {}) => {\n  if (filter && !filter(editor) || selectionAtBlockStart && !isSelectionAtBlockStart(editor) || selectionAtBlockEnd && !isSelectionAtBlockEnd(editor)) {\n    return false;\n  }\n\n  const allows = castArray_1(allow);\n\n  if (allows.length && !someNode(editor, {\n    at,\n    match: {\n      type: allows\n    }\n  })) {\n    return false;\n  }\n\n  const excludes = castArray_1(exclude);\n\n  if (excludes.length && someNode(editor, {\n    at,\n    match: {\n      type: excludes\n    }\n  })) {\n    return false;\n  }\n\n  return true;\n};\n\n/**\n * Recursively apply an operation to children nodes with a query.\n */\nconst applyDeepToNodes = ({\n  node,\n  source,\n  apply,\n  query\n}) => {\n  const entry = [node, []];\n\n  if (queryNode(entry, query)) {\n    if (source instanceof Function) {\n      apply(node, source());\n    } else {\n      apply(node, source);\n    }\n  }\n\n  if (!isAncestor(node)) return;\n  node.children.forEach(child => {\n    applyDeepToNodes({\n      node: child,\n      source,\n      apply,\n      query\n    });\n  });\n};\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nvar _apply = apply;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return _apply(func, this, otherArgs);\n  };\n}\n\nvar _overRest = overRest;\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nvar constant_1 = constant;\n\nvar defineProperty = (function() {\n  try {\n    var func = _getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nvar _defineProperty = defineProperty;\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !_defineProperty ? identity_1 : function(func, string) {\n  return _defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant_1(string),\n    'writable': true\n  });\n};\n\nvar _baseSetToString = baseSetToString;\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nvar _shortOut = shortOut;\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = _shortOut(_baseSetToString);\n\nvar _setToString = setToString;\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return _setToString(_overRest(func, start, identity_1), func + '');\n}\n\nvar _baseRest = baseRest;\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject_1(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike_1(object) && _isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq_1(object[index], value);\n  }\n  return false;\n}\n\nvar _isIterateeCall = isIterateeCall;\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nvar _nativeKeysIn = nativeKeysIn;\n\n/** Used for built-in method references. */\nvar objectProto$3 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$3 = objectProto$3.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject_1(object)) {\n    return _nativeKeysIn(object);\n  }\n  var isProto = _isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty$3.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nvar _baseKeysIn = baseKeysIn;\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike_1(object) ? _arrayLikeKeys(object, true) : _baseKeysIn(object);\n}\n\nvar keysIn_1 = keysIn;\n\n/** Used for built-in method references. */\nvar objectProto$2 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$2 = objectProto$2.hasOwnProperty;\n\n/**\n * Assigns own and inherited enumerable string keyed properties of source\n * objects to the destination object for all destination properties that\n * resolve to `undefined`. Source objects are applied from left to right.\n * Once a property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaultsDeep\n * @example\n *\n * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar defaults = _baseRest(function(object, sources) {\n  object = Object(object);\n\n  var index = -1;\n  var length = sources.length;\n  var guard = length > 2 ? sources[2] : undefined;\n\n  if (guard && _isIterateeCall(sources[0], sources[1], guard)) {\n    length = 1;\n  }\n\n  while (++index < length) {\n    var source = sources[index];\n    var props = keysIn_1(source);\n    var propsIndex = -1;\n    var propsLength = props.length;\n\n    while (++propsIndex < propsLength) {\n      var key = props[propsIndex];\n      var value = object[key];\n\n      if (value === undefined ||\n          (eq_1(value, objectProto$2[key]) && !hasOwnProperty$2.call(object, key))) {\n        object[key] = source[key];\n      }\n    }\n  }\n\n  return object;\n});\n\nvar defaults_1 = defaults;\n\n/**\n * Recursively merge a source object to children nodes with a query.\n */\n\nconst defaultsDeepToNodes = options => {\n  applyDeepToNodes({ ...options,\n    apply: defaults_1\n  });\n};\n\n/* eslint-disable @typescript-eslint/no-unused-vars */\n/**\n * Merge a node at a location with the previous node of the same depth,\n * removing any empty containing nodes after the merge if necessary.\n */\n\nconst mergeNodes = (editor, options = {}) => {\n  Editor.withoutNormalizing(editor, () => {\n    let {\n      match,\n      at = editor.selection\n    } = options;\n    const {\n      mergeNode,\n      removeEmptyAncestor,\n      hanging = false,\n      voids = false,\n      mode = 'lowest'\n    } = options;\n\n    if (!at) {\n      return;\n    }\n\n    if (match == null) {\n      if (Path.isPath(at)) {\n        const [parent] = Editor.parent(editor, at);\n\n        match = n => parent.children.includes(n);\n      } else {\n        match = n => Editor.isBlock(editor, n);\n      }\n    }\n\n    if (!hanging && Range.isRange(at)) {\n      at = Editor.unhangRange(editor, at);\n    }\n\n    if (Range.isRange(at)) {\n      if (Range.isCollapsed(at)) {\n        at = at.anchor;\n      } else {\n        const [, end] = Range.edges(at);\n        const pointRef = Editor.pointRef(editor, end);\n        Transforms.delete(editor, {\n          at\n        });\n        at = pointRef.unref();\n\n        if (options.at == null) {\n          Transforms.select(editor, at);\n        }\n      }\n    }\n\n    const [current] = Editor.nodes(editor, {\n      at,\n      match,\n      voids,\n      mode\n    });\n    const prev = Editor.previous(editor, {\n      at,\n      match,\n      voids,\n      mode\n    });\n\n    if (!current || !prev) {\n      return;\n    }\n\n    const [node, path] = current;\n    const [prevNode, prevPath] = prev;\n\n    if (path.length === 0 || prevPath.length === 0) {\n      return;\n    }\n\n    const newPath = Path.next(prevPath);\n    const commonPath = Path.common(path, prevPath);\n    const isPreviousSibling = Path.isSibling(path, prevPath);\n    const levels = Array.from(Editor.levels(editor, {\n      at: path\n    }), ([n]) => n).slice(commonPath.length).slice(0, -1); // Determine if the merge will leave an ancestor of the path empty as a\n    // result, in which case we'll want to remove it after merging.\n\n    const emptyAncestor = Editor.above(editor, {\n      at: path,\n      mode: 'highest',\n      match: n => levels.includes(n) && Element.isElement(n) && hasSingleChild(n)\n    });\n    const emptyRef = emptyAncestor && Editor.pathRef(editor, emptyAncestor[1]);\n    let properties;\n    let position; // Ensure that the nodes are equivalent, and figure out what the position\n    // and extra properties of the merge will be.\n\n    if (Text.isText(node) && Text.isText(prevNode)) {\n      const {\n        text,\n        ...rest\n      } = node;\n      position = prevNode.text.length;\n      properties = rest;\n    } else if (Element.isElement(node) && Element.isElement(prevNode)) {\n      const {\n        children,\n        ...rest\n      } = node;\n      position = prevNode.children.length;\n      properties = rest;\n    } else {\n      throw new Error(`Cannot merge the node at path [${path}] with the previous sibling because it is not the same kind: ${JSON.stringify(node)} ${JSON.stringify(prevNode)}`);\n    } // If the node isn't already the next sibling of the previous node, move\n    // it so that it is before merging.\n\n\n    if (!isPreviousSibling) {\n      // DIFF\n      if (!mergeNode) {\n        Transforms.moveNodes(editor, {\n          at: path,\n          to: newPath,\n          voids\n        });\n      }\n    } // If there was going to be an empty ancestor of the node that was merged,\n    // we remove it from the tree.\n\n\n    if (emptyRef) {\n      // DIFF: start\n      if (!removeEmptyAncestor) {\n        Transforms.removeNodes(editor, {\n          at: emptyRef.current,\n          voids\n        });\n      } else {\n        const emptyPath = emptyRef.current;\n        emptyPath && removeEmptyAncestor(editor, {\n          at: emptyPath\n        });\n      } // DIFF: end\n\n    } // If the target node that we're merging with is empty, remove it instead\n    // of merging the two. This is a common rich text editor behavior to\n    // prevent losing formatting when deleting entire nodes when you have a\n    // hanging selection.\n    // DIFF: start\n\n\n    if (mergeNode) {\n      mergeNode(editor, {\n        at: path,\n        to: newPath\n      }); // DIFF: end\n    } else if (Element.isElement(prevNode) && Editor.isEmpty(editor, prevNode) || Text.isText(prevNode) && prevNode.text === '') {\n      Transforms.removeNodes(editor, {\n        at: prevPath,\n        voids\n      });\n    } else {\n      editor.apply({\n        type: 'merge_node',\n        path: newPath,\n        position,\n        properties\n      });\n    }\n\n    if (emptyRef) {\n      emptyRef.unref();\n    }\n  });\n};\n\nconst deleteFragment = (editor, options = {}) => {\n  Editor.withoutNormalizing(editor, () => {\n    const {\n      reverse = false,\n      unit = 'character',\n      distance = 1,\n      voids = false\n    } = options;\n    let {\n      at = editor.selection,\n      hanging = false\n    } = options;\n\n    if (!at) {\n      return;\n    }\n\n    if (Range.isRange(at) && Range.isCollapsed(at)) {\n      at = at.anchor;\n    }\n\n    if (Point.isPoint(at)) {\n      const furthestVoid = Editor.void(editor, {\n        at,\n        mode: 'highest'\n      });\n\n      if (!voids && furthestVoid) {\n        const [, voidPath] = furthestVoid;\n        at = voidPath;\n      } else {\n        const opts = {\n          unit,\n          distance\n        };\n        const target = reverse ? Editor.before(editor, at, opts) || Editor.start(editor, []) : Editor.after(editor, at, opts) || Editor.end(editor, []);\n        at = {\n          anchor: at,\n          focus: target\n        };\n        hanging = true;\n      }\n    }\n\n    if (Path.isPath(at)) {\n      Transforms.removeNodes(editor, {\n        at,\n        voids\n      });\n      return;\n    }\n\n    if (Range.isCollapsed(at)) {\n      return;\n    }\n\n    if (!hanging) {\n      at = Editor.unhangRange(editor, at, {\n        voids\n      });\n    }\n\n    let [start, end] = Range.edges(at);\n    const startBlock = Editor.above(editor, {\n      match: n => Editor.isBlock(editor, n),\n      at: start,\n      voids\n    });\n    const endBlock = Editor.above(editor, {\n      match: n => Editor.isBlock(editor, n),\n      at: end,\n      voids\n    });\n    const isAcrossBlocks = startBlock && endBlock && !Path.equals(startBlock[1], endBlock[1]);\n    const isSingleText = Path.equals(start.path, end.path);\n    const startVoid = voids ? null : Editor.void(editor, {\n      at: start,\n      mode: 'highest'\n    });\n    const endVoid = voids ? null : Editor.void(editor, {\n      at: end,\n      mode: 'highest'\n    }); // If the start or end points are inside an inline void, nudge them out.\n\n    if (startVoid) {\n      const before = Editor.before(editor, start);\n\n      if (before && startBlock && Path.isAncestor(startBlock[1], before.path)) {\n        start = before;\n      }\n    }\n\n    if (endVoid) {\n      const after = Editor.after(editor, end);\n\n      if (after && endBlock && Path.isAncestor(endBlock[1], after.path)) {\n        end = after;\n      }\n    } // Get the highest nodes that are completely inside the range, as well as\n    // the start and end nodes.\n\n\n    const matches = [];\n    let lastPath;\n\n    for (const entry of Editor.nodes(editor, {\n      at,\n      voids\n    })) {\n      const [node, path] = entry;\n\n      if (lastPath && Path.compare(path, lastPath) === 0) {\n        continue;\n      }\n\n      if (!voids && Editor.isVoid(editor, node) || !Path.isCommon(path, start.path) && !Path.isCommon(path, end.path)) {\n        matches.push(entry);\n        lastPath = path;\n      }\n    }\n\n    const pathRefs = Array.from(matches, ([, p]) => Editor.pathRef(editor, p));\n    const startRef = Editor.pointRef(editor, start);\n    const endRef = Editor.pointRef(editor, end);\n\n    if (!isSingleText && !startVoid) {\n      const point = startRef.current;\n      const [node] = Editor.leaf(editor, point);\n      const {\n        path\n      } = point;\n      const {\n        offset\n      } = start;\n      const text = node.text.slice(offset);\n      editor.apply({\n        type: 'remove_text',\n        path,\n        offset,\n        text\n      });\n    }\n\n    for (const pathRef of pathRefs) {\n      const path = pathRef.unref();\n      Transforms.removeNodes(editor, {\n        at: path,\n        voids\n      });\n    }\n\n    if (!endVoid) {\n      const point = endRef.current;\n      const [node] = Editor.leaf(editor, point);\n      const {\n        path\n      } = point;\n      const offset = isSingleText ? start.offset : 0;\n      const text = node.text.slice(offset, end.offset);\n      editor.apply({\n        type: 'remove_text',\n        path,\n        offset,\n        text\n      });\n    }\n\n    if (!isSingleText && isAcrossBlocks && endRef.current && startRef.current) {\n      // DIFF: allow custom mergeNodes\n      mergeNodes(editor, {\n        at: endRef.current,\n        hanging: true,\n        voids\n      });\n    }\n\n    const point = endRef.unref() || startRef.unref();\n\n    if (options.at == null && point) {\n      Transforms.select(editor, point);\n    }\n  });\n};\n\nconst insertNodes = (editor, props, options) => Transforms.insertNodes(editor, props, options);\n\nconst insertEmptyElement = (editor, type, options) => {\n  insertNodes(editor, {\n    type,\n    children: [{\n      text: ''\n    }]\n  }, getQueryOptions(editor, options));\n};\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && _defineProperty) {\n    _defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nvar _baseAssignValue = baseAssignValue;\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq_1(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    _baseAssignValue(object, key, value);\n  }\n}\n\nvar _assignMergeValue = assignMergeValue;\n\nvar _cloneBuffer = createCommonjsModule(function (module, exports) {\n/** Detect free variable `exports`. */\nvar freeExports = exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? _root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n});\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new _Uint8Array(result).set(new _Uint8Array(arrayBuffer));\n  return result;\n}\n\nvar _cloneArrayBuffer = cloneArrayBuffer;\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? _cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nvar _cloneTypedArray = cloneTypedArray;\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nvar _copyArray = copyArray;\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject_1(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nvar _baseCreate = baseCreate;\n\n/** Built-in value references. */\nvar getPrototype = _overArg(Object.getPrototypeOf, Object);\n\nvar _getPrototype = getPrototype;\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !_isPrototype(object))\n    ? _baseCreate(_getPrototype(object))\n    : {};\n}\n\nvar _initCloneObject = initCloneObject;\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike_1(value) && isArrayLike_1(value);\n}\n\nvar isArrayLikeObject_1 = isArrayLikeObject;\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto$1 = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$1 = objectProto$1.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike_1(value) || _baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = _getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty$1.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nvar isPlainObject_1 = isPlainObject;\n\n/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nvar _safeGet = safeGet;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq_1(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    _baseAssignValue(object, key, value);\n  }\n}\n\nvar _assignValue = assignValue;\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      _baseAssignValue(object, key, newValue);\n    } else {\n      _assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nvar _copyObject = copyObject;\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return _copyObject(value, keysIn_1(value));\n}\n\nvar toPlainObject_1 = toPlainObject;\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = _safeGet(object, key),\n      srcValue = _safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    _assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray_1(srcValue),\n        isBuff = !isArr && isBuffer_1(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray_1(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray_1(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject_1(objValue)) {\n        newValue = _copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = _cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = _cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject_1(srcValue) || isArguments_1(srcValue)) {\n      newValue = objValue;\n      if (isArguments_1(objValue)) {\n        newValue = toPlainObject_1(objValue);\n      }\n      else if (!isObject_1(objValue) || isFunction_1(objValue)) {\n        newValue = _initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  _assignMergeValue(object, key, newValue);\n}\n\nvar _baseMergeDeep = baseMergeDeep;\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  _baseFor(source, function(srcValue, key) {\n    stack || (stack = new _Stack);\n    if (isObject_1(srcValue)) {\n      _baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(_safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      _assignMergeValue(object, key, newValue);\n    }\n  }, keysIn_1);\n}\n\nvar _baseMerge = baseMerge;\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return _baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && _isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nvar _createAssigner = createAssigner;\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = _createAssigner(function(object, source, srcIndex) {\n  _baseMerge(object, source, srcIndex);\n});\n\nvar merge_1 = merge;\n\n/**\n * Recursively merge a source object to children nodes with a query.\n */\n\nconst mergeDeepToNodes = options => {\n  applyDeepToNodes({ ...options,\n    apply: merge_1\n  });\n};\n\n/**\n * Move the children of a node to a path.\n * Returns the number of children moved.\n */\nconst moveChildren = (editor, {\n  at,\n  to,\n  match,\n  fromStartIndex = 0\n}) => {\n  let moved = 0;\n  const parentPath = Path.isPath(at) ? at : at[1];\n  const parentNode = Path.isPath(at) ? Node.get(editor, parentPath) : at[0];\n  if (!Editor.isBlock(editor, parentNode)) return moved;\n\n  for (let i = parentNode.children.length - 1; i >= fromStartIndex; i--) {\n    const childPath = [...parentPath, i];\n    const childNode = getNode(editor, childPath);\n\n    if (!match || childNode && match([childNode, childPath])) {\n      Transforms.moveNodes(editor, {\n        at: childPath,\n        to\n      });\n      moved++;\n    }\n  }\n\n  return moved;\n};\n\n/**\n * Remove mark and trigger `onChange` if collapsed selection.\n */\n\nconst removeMark = (editor, {\n  key,\n  shouldChange = true\n}) => {\n  const {\n    selection\n  } = editor;\n\n  if (selection) {\n    if (Range.isExpanded(selection)) {\n      Transforms.unsetNodes(editor, key, {\n        match: Text.isText,\n        split: true\n      });\n    } else {\n      const marks = { ...(Editor.marks(editor) || {})\n      };\n      delete marks[key];\n      editor.marks = marks;\n      shouldChange && editor.onChange();\n    }\n  }\n};\n\n/**\n * Select an editor at a target or an edge (start, end).\n */\nconst selectEditor = (editor, {\n  at,\n  edge,\n  focus\n}) => {\n  if (focus) {\n    ReactEditor.focus(editor);\n  }\n\n  let location = at;\n\n  if (edge === 'start') {\n    location = Editor.start(editor, []);\n  }\n\n  if (edge === 'end') {\n    location = Editor.end(editor, []);\n  }\n\n  if (location) {\n    Transforms.select(editor, location);\n  }\n};\n\n/**\n * Select the end point of the block above the selection.\n */\n\nconst selectEndOfBlockAboveSelection = editor => {\n  var _getBlockAbove;\n\n  const path = (_getBlockAbove = getBlockAbove(editor)) === null || _getBlockAbove === void 0 ? void 0 : _getBlockAbove[1];\n  path && Transforms.select(editor, Editor.end(editor, path));\n};\n\n/**\n * Set marks to selected text.\n */\n\nconst setMarks = (editor, marks, clear = []) => {\n  if (!editor.selection) return;\n  const clears = castArray_1(clear);\n  clears.forEach(item => {\n    removeMark(editor, {\n      key: item\n    });\n  });\n  Object.keys(marks).forEach(key => {\n    const markIsActive = isMarkActive(editor, key);\n\n    if (markIsActive) {\n      removeMark(editor, {\n        key\n      });\n    }\n\n    editor.addMark(key, marks[key]);\n  });\n};\n\nconst setNodes = (editor, props, options) => Transforms.setNodes(editor, props, options);\n\n/**\n * Add/remove marks in the selection.\n * @param key mark to toggle\n * @param clear marks to clear when adding mark\n */\n\nconst toggleMark = (editor, key, clear = []) => {\n  if (!editor.selection) return;\n  const isActive = isMarkActive(editor, key);\n\n  if (isActive) {\n    removeMark(editor, {\n      key\n    });\n    return;\n  }\n\n  const clears = castArray_1(clear);\n  clears.forEach(item => {\n    removeMark(editor, {\n      key: item\n    });\n  });\n  editor.addMark(key, true);\n};\n\nconst ELEMENT_DEFAULT = 'p';\n\n/**\n * Toggle the type of the selected node.\n * Don't do anything if activeType === inactiveType.\n */\nconst toggleNodeType = (editor, options, editorNodesOptions) => {\n  const {\n    activeType,\n    inactiveType = getPlatePluginType(editor, ELEMENT_DEFAULT)\n  } = options;\n  if (!activeType || !editor.selection) return;\n  const isActive = someNode(editor, { ...editorNodesOptions,\n    match: {\n      type: activeType\n    }\n  });\n  if (isActive && activeType === inactiveType) return;\n  setNodes(editor, {\n    type: isActive ? inactiveType : activeType\n  });\n};\n\n/**\n * Unwrap nodes with extended options.\n * See {@link Transforms.unwrapNodes}\n */\nconst unwrapNodes = (editor, options) => {\n  Transforms.unwrapNodes(editor, getQueryOptions(editor, options));\n};\n\n/**\n * {@link Transforms.wrapNodes}.\n */\n\nconst wrapNodes = (editor, element, options = {}) => {\n  unhangRange(editor, options);\n  Transforms.wrapNodes(editor, element, options);\n};\n\n/**\n * Unwrap if the node type is in selection.\n * Wrap otherwise.\n */\n\nconst toggleWrapNodes = (editor, type) => {\n  if (someNode(editor, {\n    match: {\n      type\n    }\n  })) {\n    unwrapNodes(editor, {\n      match: {\n        type\n      }\n    });\n  } else {\n    wrapNodes(editor, {\n      type,\n      children: []\n    });\n  }\n};\n\nconst createDocumentNode = (type = 'p', text = '', remaining = []) => [{\n  children: [{\n    type,\n    children: [{\n      text\n    }]\n  }, ...remaining]\n}];\n\n/**\n * Create a React element wrapped in a Slate provider.\n * By default, it will use an empty editor.\n * TODO: allow other providers\n */\n\nconst createElementWithSlate = slateProps => {\n  const {\n    editor = withReact(createEditor()),\n    value = [],\n    onChange = () => {},\n    children,\n    ...props\n  } = slateProps || {};\n  return /*#__PURE__*/React.createElement(Slate, {\n    editor,\n    value,\n    onChange,\n    ...props\n  }, children);\n};\n\nconst createNode = (type = 'p', text = '') => ({\n  type,\n  children: [{\n    text\n  }]\n});\n\n/**\n * Get a deserializer by type, node names, class names and styles.\n */\n\nconst getNodeDeserializer = ({\n  type,\n  getNode,\n  attributeNames,\n  rules,\n  withoutChildren\n}) => {\n  const deserializers = [];\n  rules.forEach(({\n    nodeNames = '*',\n    style,\n    className,\n    attribute\n  }) => {\n    nodeNames = castArray_1(nodeNames);\n    nodeNames.forEach(nodeName => {\n      deserializers.push({\n        type,\n        withoutChildren,\n        deserialize: el => {\n          // Ignore if el nodeName is not included in rule nodeNames (except *).\n          if (nodeNames.length && !nodeNames.includes(el.nodeName) && nodeName !== '*') return; // Ignore if the rule className is not in el class list.\n\n          if (className && !el.classList.contains(className)) return;\n\n          if (style) {\n            for (const [key, value] of Object.entries(style)) {\n              const values = castArray_1(value); // Ignore if el style value is not included in rule style values (except *)\n\n              if (!values.includes(el.style[key]) && value !== '*') return; // Ignore if el style value is falsy (for value *)\n\n              if (value === '*' && !el.style[key]) return;\n            }\n          }\n\n          if (attribute) {\n            if (typeof attribute === 'string') {\n              if (!el.getAttributeNames().includes(attribute)) return;\n            } else {\n              for (const [attributeName, attributeValue] of Object.entries(attribute)) {\n                const attributeValues = castArray_1(attributeValue);\n                const elAttribute = el.getAttribute(attributeName);\n                if (!elAttribute || !attributeValues.includes(elAttribute)) return;\n              }\n            }\n          }\n\n          const elementAttributes = {};\n\n          if (attributeNames) {\n            const elementAttributeNames = el.getAttributeNames();\n\n            for (const elementAttributeName of elementAttributeNames) {\n              if (attributeNames.includes(elementAttributeName)) {\n                elementAttributes[elementAttributeName] = el.getAttribute(elementAttributeName);\n              }\n            }\n          }\n\n          const slateNode = getNode(el);\n\n          if (slateNode && Object.keys(elementAttributes).length) {\n            slateNode.attributes = elementAttributes;\n          }\n\n          return slateNode;\n        }\n      });\n    });\n  });\n  return deserializers;\n};\n\n/**\n * See {@link getNodeDeserializer}.\n */\n\nconst getElementDeserializer = options => getNodeDeserializer({\n  getNode: () => ({\n    type: options.type\n  }),\n  ...options\n});\n\n/**\n * Call a handler if defined\n */\nconst getHandler = (cb, ...args) => () => {\n  cb === null || cb === void 0 ? void 0 : cb(...args);\n};\n\n/**\n * See {@link getNodeDeserializer}.\n */\n\nconst getLeafDeserializer = options => getNodeDeserializer({\n  getNode: () => ({\n    [options.type]: true\n  }),\n  ...options\n});\n\n/**\n * Prevent default and call a handler if defined\n */\nconst getPreventDefaultHandler = (cb, ...args) => event => {\n  event.preventDefault();\n  cb === null || cb === void 0 ? void 0 : cb(...args);\n};\n\nconst getToggleElementOnKeyDown = pluginKeys => editor => e => {\n  const defaultType = getPlatePluginType(editor, ELEMENT_DEFAULT);\n  const options = mapPlatePluginKeysToOptions(editor, pluginKeys);\n  options.forEach(({\n    type,\n    hotkey\n  }) => {\n    if (!hotkey) return;\n\n    const hotkeys = castArray_1(hotkey);\n\n    for (const key of hotkeys) {\n      if (isHotkey(key, e)) {\n        e.preventDefault();\n        toggleNodeType(editor, {\n          activeType: type,\n          inactiveType: defaultType\n        });\n        return;\n      }\n    }\n  });\n};\n\nconst getToggleMarkOnKeyDown = pluginKey => editor => e => {\n  const {\n    hotkey,\n    type,\n    clear\n  } = getPlatePluginOptions(editor, pluginKey);\n  if (!hotkey) return;\n\n  if (isHotkey(hotkey, e)) {\n    e.preventDefault();\n    toggleMark(editor, type, clear);\n  }\n};\n\n/**\n * RegExps.\n * A URL must match #1 and then at least one of #2/#3.\n * Use two levels of REs to avoid REDOS.\n */\nconst protocolAndDomainRE = /^(?:\\w+:)?\\/\\/(\\S+)$/;\nconst localhostDomainRE = /^localhost[:?\\d]*(?:[^:?\\d]\\S*)?$/;\nconst nonLocalhostDomainRE = /^[^\\s.]+\\.\\S{2,}$/;\n/**\n * Loosely validate a URL `string`.\n */\n\nconst isUrl = string => {\n  if (typeof string !== 'string') {\n    return false;\n  }\n\n  const match = string.match(protocolAndDomainRE);\n\n  if (!match) {\n    return false;\n  }\n\n  const everythingAfterProtocol = match[1];\n\n  if (!everythingAfterProtocol) {\n    return false;\n  }\n\n  try {\n    new URL(string);\n  } catch (err) {\n    return false;\n  }\n\n  return localhostDomainRE.test(everythingAfterProtocol) || nonLocalhostDomainRE.test(everythingAfterProtocol);\n};\n\nconst isInlineNode = editor => node => Text.isText(node) || editor.isInline(node);\n\nconst makeBlockLazy = type => () => ({\n  type,\n  children: []\n});\n\nconst hasDifferentChildNodes = (descendants, isInline) => {\n  return descendants.some((descendant, index, arr) => {\n    const prevDescendant = arr[index - 1];\n\n    if (index !== 0) {\n      return isInline(descendant) !== isInline(prevDescendant);\n    }\n\n    return false;\n  });\n};\n/**\n * Handles 3rd constraint: \"Block nodes can only contain other blocks, or inline and text nodes.\"\n */\n\n\nconst normalizeDifferentNodeTypes = (descendants, isInline, makeDefaultBlock) => {\n  const hasDifferentNodes = hasDifferentChildNodes(descendants, isInline);\n  const {\n    fragment\n  } = descendants.reduce((memo, node) => {\n    if (hasDifferentNodes && isInline(node)) {\n      let block = memo.precedingBlock;\n\n      if (!block) {\n        block = makeDefaultBlock();\n        memo.precedingBlock = block;\n        memo.fragment.push(block);\n      }\n\n      block.children.push(node);\n    } else {\n      memo.fragment.push(node);\n      memo.precedingBlock = null;\n    }\n\n    return memo;\n  }, {\n    fragment: [],\n    precedingBlock: null\n  });\n  return fragment;\n};\n/**\n * Handles 1st constraint: \"All Element nodes must contain at least one Text descendant.\"\n */\n\n\nconst normalizeEmptyChildren = descendants => {\n  if (!descendants.length) {\n    return [{\n      text: ''\n    }];\n  }\n\n  return descendants;\n};\n\nconst normalize = (descendants, isInline, makeDefaultBlock) => {\n  descendants = normalizeEmptyChildren(descendants);\n  descendants = normalizeDifferentNodeTypes(descendants, isInline, makeDefaultBlock);\n  descendants = descendants.map(node => {\n    if (isElement(node)) {\n      return { ...node,\n        children: normalize(node.children, isInline, makeDefaultBlock)\n      };\n    }\n\n    return node;\n  });\n  return descendants;\n};\n/**\n * Normalize the descendants to a valid document fragment.\n */\n\n\nconst normalizeDescendantsToDocumentFragment = (editor, {\n  descendants\n}) => {\n  const isInline = isInlineNode(editor);\n  const defaultType = getPlatePluginType(editor, ELEMENT_DEFAULT);\n  const makeDefaultBlock = makeBlockLazy(defaultType);\n  return normalize(descendants, isInline, makeDefaultBlock);\n};\n\nexport { ELEMENT_DEFAULT, applyDeepToNodes, createDocumentNode, createElementWithSlate, createNode, createNodeHOC, createNodesHOC, createNodesWithHOC, defaultsDeepToNodes, deleteFragment, escapeRegExp, findDescendant, findNode, getAbove, getBlockAbove, getChildren, getElementDeserializer, getHandler, getLastChild$1 as getLastChild, getLastChildPath, getLastNode, getLeafDeserializer, getMark, getNextSiblingNodes, getNode, getNodeDeserializer, getNodes, getParent, getPointBefore, getPointFromLocation, getPointNextToVoid, getPreventDefaultHandler, getPreviousBlockById, getPreviousPath, getQueryOptions, getRangeBefore, getRangeFromBlockStart, getSelectionText, getText, getToggleElementOnKeyDown, getToggleMarkOnKeyDown, hasSingleChild, insertEmptyElement, insertNodes, isAncestorEmpty, isBlockAboveEmpty, isBlockTextEmptyAfterSelection, isCollapsed, isDefined, isEnd, isExpanded, isFirstChild, isLastChild, isMarkActive, isNull, isPointAtWordEnd, isRangeAcrossBlocks, isRangeInSingleText, isSelectionAtBlockEnd, isSelectionAtBlockStart, isSelectionExpanded, isStart, isTextByPath, isType, isUndefined, isUndefinedOrNull, isUrl, isWordAfterTrigger, match, matchPredicate, mergeDeepToNodes, mergeNodes, moveChildren, normalizeDescendantsToDocumentFragment, queryEditor, queryNode, removeMark, selectEditor, selectEndOfBlockAboveSelection, setMarks, setNodes, someNode, toggleMark, toggleNodeType, toggleWrapNodes, unhangRange, unwrapNodes, withProps, wrapNodes };\n//# sourceMappingURL=index.es.js.map\n","import React, {ChangeEventHandler, useCallback, useEffect, useMemo, useState} from 'react'\nimport TextareaAutosize from 'react-textarea-autosize'\nimport {setNodes} from '@udecode/plate-common'\nimport {useEditorRef} from '@udecode/plate-core'\nimport {Node} from 'slate'\nimport {ReactEditor, useFocused, useSelected} from 'slate-react'\nimport {getImageElementStyles} from './ImageElement.styles'\nimport {ImageElementProps} from './ImageElement.types'\n\nenum ImageSizeType {\n  large = 'large',\n  medium = 'medium',\n  small = 'small'\n}\n\nexport const imageSizeMap = {\n  [ImageSizeType.large]: '100%',\n  [ImageSizeType.medium]: '50%',\n  [ImageSizeType.small]: '30%'\n}\n\nexport const ImageElement = (props: ImageElementProps) => {\n  const {\n    attributes,\n    children,\n    element,\n    nodeProps,\n    caption = {},\n    align = 'center',\n    draggable\n  } = props\n\n  const {placeholder = 'Write a caption...'} = caption\n\n  const {\n    url,\n    size = ImageSizeType.large,\n    caption: nodeCaption = [{children: [{text: ''}]}]\n  } = element\n  const focused = useFocused()\n  const selected = useSelected()\n  const editor = useEditorRef()\n\n  const [imageSize, setSize] = useState<ImageSizeType>(ImageSizeType.large)\n\n  useEffect(() => {\n    const path = ReactEditor.findPath(editor, element)\n    setNodes(editor, {size}, {at: path})\n  }, [imageSize])\n\n  // const [captionId] = useState(nanoid());\n\n  const styles = getImageElementStyles({...props, align, focused, selected})\n\n  const onChangeCaption: ChangeEventHandler<HTMLTextAreaElement> = useCallback(\n    e => {\n      const path = ReactEditor.findPath(editor as ReactEditor, element)\n      setNodes(editor, {caption: [{text: e.target.value}]}, {at: path})\n    },\n    [editor, element]\n  )\n\n  const captionString = useMemo(() => {\n    return Node.string(nodeCaption[0]) || ''\n  }, [nodeCaption])\n\n  return (\n    <div {...attributes} css={styles.root.css} className={styles.root.className}>\n      <div contentEditable={false}>\n        <figure css={styles.figure?.css} className={`group ${styles.figure?.className}`}>\n          <div css={styles.optionsToolbar.css} className={styles.optionsToolbar.className}>\n            <button\n              css={styles.optionsToolbarButton?.css}\n              className={styles.optionsToolbarButton?.className}\n              onClick={() => setSize(ImageSizeType.large)}>\n              lg\n            </button>\n            <button\n              css={styles.optionsToolbarButton?.css}\n              className={styles.optionsToolbarButton?.className}\n              onClick={() => setSize(ImageSizeType.medium)}>\n              md\n            </button>\n            <button\n              css={styles.optionsToolbarButton?.css}\n              className={styles.optionsToolbarButton?.className}\n              onClick={() => setSize(ImageSizeType.small)}>\n              sm\n            </button>\n          </div>\n          <img\n            data-testid=\"ImageElementImage\"\n            css={styles.img?.css}\n            style={{width: imageSizeMap[imageSize]}}\n            className={styles.img?.className}\n            src={url}\n            alt={captionString}\n            draggable={draggable}\n            {...nodeProps}\n          />\n\n          {!caption.disabled && (captionString.length || selected) && (\n            <figcaption\n              style={{width}}\n              css={styles.figcaption?.css}\n              className={styles.figcaption?.className}>\n              <TextareaAutosize\n                css={styles.caption?.css}\n                className={styles.caption?.className}\n                value={nodeCaption[0].text}\n                placeholder={placeholder}\n                onChange={onChangeCaption}\n              />\n            </figcaption>\n          )}\n        </figure>\n      </div>\n      {children}\n    </div>\n  )\n}\n","var e=[],t=[];function n(n,r){if(n&&\"undefined\"!=typeof document){var a,s=!0===r.prepend?\"prepend\":\"append\",d=!0===r.singleTag,i=\"string\"==typeof r.container?document.querySelector(r.container):document.getElementsByTagName(\"head\")[0];if(d){var u=e.indexOf(i);-1===u&&(u=e.push(i)-1,t[u]={}),a=t[u]&&t[u][s]?t[u][s]:t[u][s]=c()}else a=c();65279===n.charCodeAt(0)&&(n=n.substring(1)),a.styleSheet?a.styleSheet.cssText+=n:a.appendChild(document.createTextNode(n))}function c(){var e=document.createElement(\"style\");if(e.setAttribute(\"type\",\"text/css\"),r.attributes)for(var t=Object.keys(r.attributes),n=0;n<t.length;n++)e.setAttribute(t[n],r.attributes[t[n]]);var a=\"prepend\"===s?\"afterbegin\":\"beforeend\";return i.insertAdjacentElement(a,e),e}}export default n;\n","import React, {useContext, useEffect, useRef, useState} from 'react'\nimport {ReactEditor} from 'slate-react'\nimport {BaseSelection, Transforms} from 'slate'\nimport {insertImage} from '@dreifuss-wysiwyg-editor/image'\nimport {ModalContext} from '@dreifuss-wysiwyg-editor/common'\nimport {useEventEditorId, useStoreEditorRef, useStoreEditorSelection} from '@udecode/plate-core'\n\nimport './image-toolbar.css'\n\nexport const ToolbarImage = ({CustomComponent}: any) => {\n  const editor = useStoreEditorRef(useEventEditorId('focus'))\n  const editorRef = useStoreEditorRef(useEventEditorId('focus'))\n  const selection = useStoreEditorSelection(useEventEditorId('focus'))\n\n  const latestSelection = useRef<BaseSelection>()\n\n  const {toggleMenu} = useContext(ModalContext)\n\n  const [url, setURL] = useState('')\n\n  useEffect(() => {\n    if (selection) {\n      latestSelection.current = selection\n    }\n  }, [selection])\n\n  if (CustomComponent)\n    return (\n      <CustomComponent\n        onChange={(newUrl: string) => {\n          setURL(newUrl)\n          if (!editor) return\n\n          Transforms.select(editorRef, latestSelection.current)\n          ReactEditor.focus(editorRef)\n\n          insertImage(editor, newUrl)\n          toggleMenu()\n        }}\n      />\n    )\n\n  return (\n    <form className=\"image-toolbar\">\n      <div className=\"form-group\">\n        <label>Link</label>\n        <div className=\"input-group\">\n          <input name=\"url\" value={url} onChange={e => setURL(e.target.value)} />\n        </div>\n      </div>\n      <div className=\"toolbar\" role=\"toolbar\">\n        <button\n          onClick={async e => {\n            e.preventDefault()\n            if (!editor) return\n\n            Transforms.select(editorRef, latestSelection.current)\n            ReactEditor.focus(editorRef)\n\n            insertImage(editor, url)\n            toggleMenu()\n          }}>\n          Insert\n        </button>\n      </div>\n    </form>\n  )\n}\n\nexport interface CustomImageToolbarProps {\n  onChange: React.Dispatch<React.SetStateAction<any>>\n}\n"],"names":["getImageElementStyles","props","focused","selected","align","caption","color","colorActive","background","borderColor","marginTopLeft","createStyles","prefixClassNames","root","figure","img","figcaption","css","optionsToolbar","hidden","hiddenDelay","optionsToolbarButton","global","index","useLayoutEffect","useRef","useIsomorphicLayoutEffect","useCallback","createElement","forwardRef","Symbol","Transforms","ImageSizeType","imageSizeMap","large","medium","small","ImageElement","attributes","children","element","nodeProps","draggable","placeholder","url","size","nodeCaption","text","useFocused","useSelected","editor","useEditorRef","imageSize","setSize","useState","useEffect","path","ReactEditor","findPath","setNodes","at","styles","onChangeCaption","e","target","value","captionString","useMemo","Node","string","_jsxs","className","_jsx","width","disabled","length","ToolbarImage","CustomComponent","useStoreEditorRef","useEventEditorId","editorRef","selection","useStoreEditorSelection","latestSelection","toggleMenu","useContext","ModalContext","setURL","current","newUrl","select","focus","insertImage","preventDefault"],"mappings":"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"}