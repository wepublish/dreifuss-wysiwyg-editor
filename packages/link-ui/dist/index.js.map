{"version":3,"file":"index.js","sources":["../src/LinkElement/LinkElement.styles.ts","../src/LinkElement/LinkElement.tsx","../../../node_modules/rollup-plugin-styles/dist/runtime/inject-css.js","../src/LinkMenu/LinkMenu.tsx"],"sourcesContent":["import {createStyles, StyledElementProps} from '@udecode/plate-styled-components'\nimport {css} from 'styled-components'\n\nexport const getLinkElementStyles = (props: StyledElementProps) =>\n  createStyles(\n    {prefixClassNames: 'LinkElement', ...props},\n    {\n      root: css`\n        color: #0078d4;\n        text-decoration: initial;\n        :hover,\n        :visited:hover {\n          color: #004578;\n          text-decoration: underline;\n        }\n        :visited {\n          color: #0078d4;\n        }\n      `\n    }\n  )\n","import * as React from 'react'\nimport {LinkNodeData} from '@dreifuss-wysiwyg-editor/link'\nimport {StyledElementProps} from '@udecode/plate-styled-components'\nimport {getLinkElementStyles} from './LinkElement.styles'\n\nexport const LinkElement = (props: StyledElementProps<LinkNodeData>) => {\n  const {attributes, children, element, nodeProps} = props\n\n  const {root} = getLinkElementStyles(props)\n\n  return (\n    // TODO: check this\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    <a {...attributes} href={element.url} css={root.css} className={root.className} {...nodeProps}>\n      {children}\n    </a>\n  )\n}\n","var e=[],t=[];function n(n,r){if(n&&\"undefined\"!=typeof document){var a,s=!0===r.prepend?\"prepend\":\"append\",d=!0===r.singleTag,i=\"string\"==typeof r.container?document.querySelector(r.container):document.getElementsByTagName(\"head\")[0];if(d){var u=e.indexOf(i);-1===u&&(u=e.push(i)-1,t[u]={}),a=t[u]&&t[u][s]?t[u][s]:t[u][s]=c()}else a=c();65279===n.charCodeAt(0)&&(n=n.substring(1)),a.styleSheet?a.styleSheet.cssText+=n:a.appendChild(document.createTextNode(n))}function c(){var e=document.createElement(\"style\");if(e.setAttribute(\"type\",\"text/css\"),r.attributes)for(var t=Object.keys(r.attributes),n=0;n<t.length;n++)e.setAttribute(t[n],r.attributes[t[n]]);var a=\"prepend\"===s?\"afterbegin\":\"beforeend\";return i.insertAdjacentElement(a,e),e}}export default n;\n","import React, {useContext, useEffect, useState} from 'react'\nimport {BaseRange, Editor, Element, BaseEditor} from 'slate'\nimport {getPlatePluginType, useEventEditorId, useStoreEditorState} from '@udecode/plate-core'\nimport {\n  upsertLinkAtSelection,\n  validateUrl,\n  removeLink,\n  ELEMENT_LINK\n} from '@dreifuss-wysiwyg-editor/link'\nimport './link.css'\nimport {ModalContext} from '@dreifuss-wysiwyg-editor/common'\nimport {ReactEditor} from 'slate-react'\nimport {HistoryEditor} from 'slate-history'\n\ntype CustomElement = {type: 'link'; title: string; url?: string; children: CustomText[]}\ntype CustomText = {title: string; url?: string; text: string}\n\ndeclare module 'slate' {\n  interface CustomTypes {\n    Editor: BaseEditor & ReactEditor & HistoryEditor\n    Element: CustomElement\n    Text: CustomText\n  }\n}\n\nexport const ToolbarLink = () => {\n  const editor = useStoreEditorState(useEventEditorId('focus'))\n\n  const [selection, setSelection] = useState<BaseRange | null>(null)\n\n  const [title, setTitle] = useState('')\n  const [url, setURL] = useState('')\n\n  enum prefixType {\n    http = 'http://',\n    https = 'https://',\n    mailto = 'mailto://',\n    other = 'other'\n  }\n\n  const [prefix, setPrefix] = useState<prefixType | string>(prefixType.http)\n\n  const [isValidURL, setIsValidURL] = useState(false)\n\n  const [isInsertBtnDisabled, setIsInsertBtnDisabled] = useState(false)\n\n  const {toggleMenu} = useContext(ModalContext)\n\n  useEffect(() => {\n    if (url) {\n      validateUrl(url).then((value: boolean) => setIsValidURL(value))\n\n      if (url.startsWith(prefixType.https)) {\n        setPrefix(prefixType.https)\n        setURL(url.replace(prefixType.https, ''))\n      } else if (url.startsWith(prefixType.http)) {\n        setPrefix(prefixType.http)\n        setURL(url.replace(prefixType.http, ''))\n      } else if (url.startsWith(prefixType.mailto)) {\n        setPrefix(prefixType.mailto)\n        setURL(url.replace(prefixType.mailto, ''))\n      }\n    }\n  }, [url])\n\n  useEffect(() => {\n    if (!url || !title || !isValidURL) {\n      setIsInsertBtnDisabled(true)\n    } else {\n      setIsInsertBtnDisabled(false)\n    }\n  }, [title, url, isValidURL])\n\n  useEffect(() => {\n    if (!editor) return\n\n    const nodes = Array.from(\n      Editor.nodes(editor, {\n        at: editor.selection ?? undefined,\n        match: node =>\n          Element.isElement(node) && node.type === getPlatePluginType(editor, ELEMENT_LINK)\n      })\n    )\n\n    const tuple = nodes[0]\n    if (tuple) {\n      const [node] = tuple\n      if (Element.isElement(node)) {\n        setTitle((node.title || (node?.children[0]?.text as string)) ?? '')\n\n        const nodeUrl = node.url as string\n\n        if (!nodeUrl) return\n\n        if (nodeUrl.startsWith(prefixType.https)) {\n          setPrefix(prefixType.https)\n        } else if (nodeUrl.startsWith(prefixType.http)) {\n          setPrefix(prefixType.http)\n        } else if (nodeUrl.startsWith(prefixType.mailto)) {\n          setPrefix(prefixType.mailto)\n        } else {\n          setPrefix(prefixType.other)\n        }\n        setURL(nodeUrl as string)\n      }\n    } else if (editor.selection) {\n      const text = Editor.string(editor, editor.selection)\n      setTitle(text ?? '')\n    }\n  }, [selection])\n\n  useEffect(() => {\n    if (editor?.selection) {\n      setSelection(editor.selection)\n    }\n  }, [editor?.selection])\n\n  return (\n    <form className=\"link-toolbar\">\n      <div className=\"form-group\">\n        <label>Link</label>\n        <div className=\"input-group\">\n          <select\n            style={{\n              backgroundColor: 'white',\n              border: 'none',\n              boxShadow: 'none'\n            }}\n            value={prefix}\n            onChange={e => setPrefix(e.target.value)}>\n            <option value={prefixType.http}>{prefixType.http}</option>\n            <option value={prefixType.https}>{prefixType.https}</option>\n            <option value={prefixType.mailto}>{prefixType.mailto}</option>\n            <option value={prefixType.other}>{prefixType.other}</option>\n          </select>\n          <input name=\"url\" value={url} onChange={e => setURL(e.target.value)} />\n        </div>\n        <p>{url && !isValidURL ? 'Invalid Link' : undefined}</p>\n      </div>\n      <div className=\"form-group\">\n        <label>Selected Text</label>\n        <div className=\"input-group\">\n          <input name=\"text\" value={title} onChange={e => setTitle(e.target.value)} />\n        </div>\n      </div>\n      <div className=\"toolbar\" role=\"toolbar\">\n        <button\n          className={`${isInsertBtnDisabled ? 'disabled' : 'insert'}`}\n          disabled={isInsertBtnDisabled}\n          onClick={e => {\n            if (!editor) return\n            e.preventDefault()\n\n            upsertLinkAtSelection(editor, {\n              url: prefix !== prefixType.other ? prefix + url : url,\n              wrap: true,\n              selection\n            })\n            toggleMenu()\n          }}>\n          Insert\n        </button>\n        <button\n          className={`${url ? 'cancel' : 'disabled'}`}\n          onClick={e => {\n            if (!editor) return\n            e.preventDefault()\n\n            removeLink(editor)\n            toggleMenu()\n          }}>\n          Remove\n        </button>\n      </div>\n    </form>\n  )\n}\n"],"names":["getLinkElementStyles","props","createStyles","prefixClassNames","root","css","LinkElement","attributes","children","element","nodeProps","url","className","ToolbarLink","editor","useStoreEditorState","useEventEditorId","selection","setSelection","useState","title","setTitle","setURL","prefixType","prefix","setPrefix","http","isValidURL","setIsValidURL","isInsertBtnDisabled","setIsInsertBtnDisabled","toggleMenu","useContext","ModalContext","useEffect","validateUrl","then","value","startsWith","https","replace","mailto","nodes","Array","from","Editor","at","undefined","match","node","Element","isElement","type","getPlatePluginType","ELEMENT_LINK","tuple","text","nodeUrl","other","string","_jsxs","_jsx","backgroundColor","border","boxShadow","e","target","preventDefault","upsertLinkAtSelection","wrap","removeLink"],"mappings":"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"}